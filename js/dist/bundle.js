!function(t){function e(e){for(var n,i,o=e[0],a=e[1],s=0,u=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(l&&l(e);u.length;)u.shift()()}var n={},r={0:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(t){return i.p+""+t+".bundle.js"}(t);var l=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,n[1](l)}r[t]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="js/dist/",i.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var s=0;s<o.length;s++)e(o[s]);var l=a;i(i.s=393)}([function(t,e,n){t.exports=n(173)},function(t,e,n){t.exports=n(237)},function(t,e,n){t.exports=n(314)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(189);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r(t,i.key,i)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(16),o=n(59).f,a=n(109),s=n(10),l=n(27),u=n(36),c=n(28),f=function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,h,d,p,v,m,y,g,b=t.target,x=t.global,w=t.stat,k=t.proto,S=x?i:w?i[b]:(i[b]||{}).prototype,E=x?s:s[b]||(s[b]={}),A=E.prototype;for(d in e)n=!a(x?d:b+(w?".":"#")+d,t.forced)&&S&&c(S,d),v=E[d],n&&(m=t.noTargetGet?(g=o(S,d))&&g.value:S[d]),p=n&&m?m:e[d],n&&r(v)===r(p)||(y=t.bind&&n?l(p,i):t.wrap&&n?f(p):k&&"function"==typeof p?l(Function.call,p):p,(t.sham||p&&p.sham||v&&v.sham)&&u(y,"sham",!0),E[d]=y,k&&(c(s,h=b+"Prototype")||u(s,h,{}),s[h][d]=p,t.real&&A&&!A[d]&&u(A,d,p)))}},function(t,e,n){var r=n(250),i=n(142);function o(e){return t.exports=o=i?r:function(t){return t.__proto__||r(t)},o(e)}t.exports=o},function(t,e,n){var r=n(141),i=n(101);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){var r=n(39),i=n(249);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},function(t,e,n){t.exports=n(231)},function(t,e){t.exports={}},function(t,e,n){var r=n(25);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){t.exports=n(216)},function(t,e,n){t.exports=n(177)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=!0},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis)||r("object"==("undefined"==typeof window?"undefined":n(window))&&window)||r("object"==("undefined"==typeof self?"undefined":n(self))&&self)||r("object"==(void 0===e?"undefined":n(e))&&e)||Function("return this")()}).call(this,n(107))},function(t,e,n){var r=n(16),i=n(88),o=n(28),a=n(72),s=n(89),l=n(111),u=i("wks"),c=r.Symbol,f=l?c:c&&c.withoutSetter||a;t.exports=function(t){return o(u,t)||(s&&o(c,t)?u[t]=c[t]:u[t]=f("Symbol."+t)),u[t]}},function(t,e,n){t.exports=n(192)},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(11),o=n(124),a=n(43),s=n(27),l=n(63),u=n(125),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,h){var d,p,v,m,y,g,b,x=s(e,n,f?2:1);if(h)d=t;else{if("function"!=typeof(p=l(t)))throw TypeError("Target is not iterable");if(o(p)){for(v=0,m=a(t.length);m>v;v++)if((y=f?x(i(b=t[v])[0],b[1]):x(t[v]))&&y instanceof c)return y;return new c(!1)}d=p.call(t)}for(g=d.next;!(b=g.call(d)).done;)if("object"==r(y=u(d,x,b.value,f))&&y&&y instanceof c)return y;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,n){t.exports=n(193)},function(t,e,n){t.exports=n(194)},function(t,e,n){t.exports=n(213)},function(t,e,n){var r=n(10),i=n(28),o=n(99),a=n(32).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},function(t,e,n){var r=n(14);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(19);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(10);t.exports=function(t){return r[t+"Prototype"]}},function(t,e,n){var r=n(10),i=n(16),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){t.exports=n(188)},function(t,e,n){var r=n(26),i=n(108),o=n(11),a=n(69),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=n(327)},function(t,e,n){t.exports=n(269)},function(t,e,n){t.exports=n(310)},function(t,e,n){var r=n(26),i=n(32),o=n(49);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(68);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(15),i=n(98);t.exports=r?i:function(t){return Map.prototype.entries.call(t)}},function(t,e,n){var r=n(222),i=n(100);function o(e){return t.exports=o="function"==typeof i&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t},o(e)}t.exports=o},function(t,e,n){t.exports=n(263)},function(t,e,n){var r=n(85),i=n(68);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(26),i=n(14),o=n(28),a=Object.defineProperty,s={},l=function(t){throw t};t.exports=function(t,e){if(o(s,t))return s[t];e||(e={});var n=[][t],u=!!o(e,"ACCESSORS")&&e.ACCESSORS,c=o(e,0)?e[0]:l,f=o(e,1)?e[1]:void 0;return s[t]=!!n&&!i((function(){if(u&&!r)return!0;var t={length:-1};u?a(t,1,{enumerable:!0,get:l}):t[1]=1,n.call(t,c,f)}))}},function(t,e,n){var r=n(70),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(178).charAt,i=n(45),o=n(92),a="String Iterator",s=i.set,l=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=l(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r,i,o,a=n(179),s=n(16),l=n(25),u=n(36),c=n(28),f=n(74),h=n(61),d=s.WeakMap;if(a){var p=new d,v=p.get,m=p.has,y=p.set;r=function(t,e){return y.call(p,t,e),e},i=function(t){return v.call(p,t)||{}},o=function(t){return m.call(p,t)}}else{var g=f("state");h[g]=!0,r=function(t,e){return u(t,g,e),e},i=function(t){return c(t,g)?t[g]:{}},o=function(t){return c(t,g)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(95),i=n(32).f,o=n(36),a=n(28),s=n(181),l=n(17)("toStringTag");t.exports=function(t,e,n,u){if(t){var c=n?t:t.prototype;a(c,l)||i(c,l,{configurable:!0,value:e}),u&&!r&&o(c,"toString",s)}}},function(t,e,n){n(120);var r=n(183),i=n(16),o=n(55),a=n(36),s=n(51),l=n(17)("toStringTag");for(var u in r){var c=i[u],f=c&&c.prototype;f&&o(f)!==l&&a(f,l,u),s[u]=s.Array}},function(t,e,n){t.exports=n(301)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r,i=n(11),o=n(180),a=n(94),s=n(61),l=n(119),u=n(86),c=n(74),f=c("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"</"+"script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=u("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[f]=t):n=p(),void 0===e?n:o(n,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(27),i=n(85),o=n(37),a=n(43),s=n(87),l=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,c=4==t,f=6==t,h=5==t||f;return function(d,p,v,m){for(var y,g,b=o(d),x=i(b),w=r(p,v,3),k=a(x.length),S=0,E=m||s,A=e?E(d,k):n?E(d,0):void 0;k>S;S++)if((h||S in x)&&(g=w(y=x[S],S,b),t))if(e)A[S]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:l.call(A,y)}else if(c)return!1;return f?-1:u||c?c:A}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(53);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(95),i=n(53),o=n(17)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:a?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(36);t.exports=function(t,e,n,i){i&&i.enumerable?t[e]=n:r(t,e,n)}},function(t,e,n){var r=n(254),i=n(256),o=n(147),a=n(262);t.exports=function(t){return r(t)||i(t)||o(t)||a()}},function(t,e,n){t.exports=n(331)},function(t,e,n){var r=n(26),i=n(84),o=n(49),a=n(41),s=n(69),l=n(28),u=n(108),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),u)try{return c(t,e)}catch(t){}if(l(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(14),i=n(17),o=n(90),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports={}},function(t,e,n){var r=n(28),i=n(37),o=n(74),a=n(116),s=o("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},function(t,e,n){var r=n(55),i=n(51),o=n(17)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(11),i=n(19),o=n(17)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(19),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){t.exports=n(278)},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(25);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(69),i=n(32),o=n(49);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){},function(t,e,n){var r=n(88),i=n(72),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var r=n(117),i=n(94);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){t.exports=n(239)},function(t,e,n){t.exports=n(294)},function(t,e,n){t.exports=n(305)},function(t,e,n){(function(n){var r,i;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=this,void 0===(r=function(){return i.Chartist=function(){var t={version:"0.11.4"};return function(t,e){"use strict";var n=t.window,r=t.document;e.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},e.noop=function(t){return t},e.alphaNumerate=function(t){return String.fromCharCode(97+t%26)},e.extend=function(t){var n,r,i;for(t=t||{},n=1;n<arguments.length;n++)for(var a in r=arguments[n])"object"!==o(i=r[a])||null===i||i instanceof Array?t[a]=i:t[a]=e.extend(t[a],i);return t},e.replaceAll=function(t,e,n){return t.replace(new RegExp(e,"g"),n)},e.ensureUnit=function(t,e){return"number"==typeof t&&(t+=e),t},e.quantity=function(t){if("string"==typeof t){var e=/^(\d+)\s*(.*)$/g.exec(t);return{value:+e[1],unit:e[2]||void 0}}return{value:t}},e.querySelector=function(t){return t instanceof Node?t:r.querySelector(t)},e.times=function(t){return Array.apply(null,new Array(t))},e.sum=function(t,e){return t+(e||0)},e.mapMultiply=function(t){return function(e){return e*t}},e.mapAdd=function(t){return function(e){return e+t}},e.serialMap=function(t,n){var r=[],i=Math.max.apply(null,t.map((function(t){return t.length})));return e.times(i).forEach((function(e,i){var o=t.map((function(t){return t[i]}));r[i]=n.apply(null,o)})),r},e.roundWithPrecision=function(t,n){var r=Math.pow(10,n||e.precision);return Math.round(t*r)/r},e.precision=8,e.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},e.serialize=function(t){return null==t?t:("number"==typeof t?t=""+t:"object"===o(t)&&(t=JSON.stringify({data:t})),Object.keys(e.escapingMap).reduce((function(t,n){return e.replaceAll(t,n,e.escapingMap[n])}),t))},e.deserialize=function(t){if("string"!=typeof t)return t;t=Object.keys(e.escapingMap).reduce((function(t,n){return e.replaceAll(t,e.escapingMap[n],n)}),t);try{t=void 0!==(t=JSON.parse(t)).data?t.data:t}catch(t){}return t},e.createSvg=function(t,n,r,i){var o;return n=n||"100%",r=r||"100%",Array.prototype.slice.call(t.querySelectorAll("svg")).filter((function(t){return t.getAttributeNS(e.namespaces.xmlns,"ct")})).forEach((function(e){t.removeChild(e)})),(o=new e.Svg("svg").attr({width:n,height:r}).addClass(i))._node.style.width=n,o._node.style.height=r,t.appendChild(o._node),o},e.normalizeData=function(t,n,r){var i,o={raw:t,normalized:{}};return o.normalized.series=e.getDataArray({series:t.series||[]},n,r),i=o.normalized.series.every((function(t){return t instanceof Array}))?Math.max.apply(null,o.normalized.series.map((function(t){return t.length}))):o.normalized.series.length,o.normalized.labels=(t.labels||[]).slice(),Array.prototype.push.apply(o.normalized.labels,e.times(Math.max(0,i-o.normalized.labels.length)).map((function(){return""}))),n&&e.reverseData(o.normalized),o},e.safeHasProperty=function(t,e){return null!==t&&"object"===o(t)&&t.hasOwnProperty(e)},e.isDataHoleValue=function(t){return null==t||"number"==typeof t&&isNaN(t)},e.reverseData=function(t){t.labels.reverse(),t.series.reverse();for(var e=0;e<t.series.length;e++)"object"===o(t.series[e])&&void 0!==t.series[e].data?t.series[e].data.reverse():t.series[e]instanceof Array&&t.series[e].reverse()},e.getDataArray=function(t,n,r){function i(t){if(e.safeHasProperty(t,"value"))return i(t.value);if(e.safeHasProperty(t,"data"))return i(t.data);if(t instanceof Array)return t.map(i);if(!e.isDataHoleValue(t)){if(r){var n={};return"string"==typeof r?n[r]=e.getNumberOrUndefined(t):n.y=e.getNumberOrUndefined(t),n.x=t.hasOwnProperty("x")?e.getNumberOrUndefined(t.x):n.x,n.y=t.hasOwnProperty("y")?e.getNumberOrUndefined(t.y):n.y,n}return e.getNumberOrUndefined(t)}}return t.series.map(i)},e.normalizePadding=function(t,e){return e=e||0,"number"==typeof t?{top:t,right:t,bottom:t,left:t}:{top:"number"==typeof t.top?t.top:e,right:"number"==typeof t.right?t.right:e,bottom:"number"==typeof t.bottom?t.bottom:e,left:"number"==typeof t.left?t.left:e}},e.getMetaData=function(t,e){var n=t.data?t.data[e]:t[e];return n?n.meta:void 0},e.orderOfMagnitude=function(t){return Math.floor(Math.log(Math.abs(t))/Math.LN10)},e.projectLength=function(t,e,n){return e/n.range*t},e.getAvailableHeight=function(t,n){return Math.max((e.quantity(n.height).value||t.height())-(n.chartPadding.top+n.chartPadding.bottom)-n.axisX.offset,0)},e.getHighLow=function(t,n,r){var i={high:void 0===(n=e.extend({},n,r?n["axis"+r.toUpperCase()]:{})).high?-Number.MAX_VALUE:+n.high,low:void 0===n.low?Number.MAX_VALUE:+n.low},o=void 0===n.high,a=void 0===n.low;function s(t){if(void 0!==t)if(t instanceof Array)for(var e=0;e<t.length;e++)s(t[e]);else{var n=r?+t[r]:+t;o&&n>i.high&&(i.high=n),a&&n<i.low&&(i.low=n)}}return(o||a)&&s(t),(n.referenceValue||0===n.referenceValue)&&(i.high=Math.max(n.referenceValue,i.high),i.low=Math.min(n.referenceValue,i.low)),i.high<=i.low&&(0===i.low?i.high=1:i.low<0?i.high=0:(i.high>0||(i.high=1),i.low=0)),i},e.isNumeric=function(t){return null!==t&&isFinite(t)},e.isFalseyButZero=function(t){return!t&&0!==t},e.getNumberOrUndefined=function(t){return e.isNumeric(t)?+t:void 0},e.isMultiValue=function(t){return"object"===o(t)&&("x"in t||"y"in t)},e.getMultiValue=function(t,n){return e.isMultiValue(t)?e.getNumberOrUndefined(t[n||"y"]):e.getNumberOrUndefined(t)},e.rho=function(t){if(1===t)return t;function e(t,n){return t%n==0?n:e(n,t%n)}function n(t){return t*t+1}var r,i=2,o=2;if(t%2==0)return 2;do{i=n(i)%t,o=n(n(o))%t,r=e(Math.abs(i-o),t)}while(1===r);return r},e.getBounds=function(t,n,r,i){var o,a,s,l=0,u={high:n.high,low:n.low};u.valueRange=u.high-u.low,u.oom=e.orderOfMagnitude(u.valueRange),u.step=Math.pow(10,u.oom),u.min=Math.floor(u.low/u.step)*u.step,u.max=Math.ceil(u.high/u.step)*u.step,u.range=u.max-u.min,u.numberOfSteps=Math.round(u.range/u.step);var c=e.projectLength(t,u.step,u)<r,f=i?e.rho(u.range):0;if(i&&e.projectLength(t,1,u)>=r)u.step=1;else if(i&&f<u.step&&e.projectLength(t,f,u)>=r)u.step=f;else for(;;){if(c&&e.projectLength(t,u.step,u)<=r)u.step*=2;else{if(c||!(e.projectLength(t,u.step/2,u)>=r))break;if(u.step/=2,i&&u.step%1!=0){u.step*=2;break}}if(l++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var h=2221e-19;function d(t,e){return t===(t+=e)&&(t*=1+(e>0?h:-h)),t}for(u.step=Math.max(u.step,h),a=u.min,s=u.max;a+u.step<=u.low;)a=d(a,u.step);for(;s-u.step>=u.high;)s=d(s,-u.step);u.min=a,u.max=s,u.range=u.max-u.min;var p=[];for(o=u.min;o<=u.max;o=d(o,u.step)){var v=e.roundWithPrecision(o);v!==p[p.length-1]&&p.push(v)}return u.values=p,u},e.polarToCartesian=function(t,e,n,r){var i=(r-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},e.createChartRect=function(t,n,r){var i=!(!n.axisX&&!n.axisY),o=i?n.axisY.offset:0,a=i?n.axisX.offset:0,s=t.width()||e.quantity(n.width).value||0,l=t.height()||e.quantity(n.height).value||0,u=e.normalizePadding(n.chartPadding,r);s=Math.max(s,o+u.left+u.right),l=Math.max(l,a+u.top+u.bottom);var c={padding:u,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return i?("start"===n.axisX.position?(c.y2=u.top+a,c.y1=Math.max(l-u.bottom,c.y2+1)):(c.y2=u.top,c.y1=Math.max(l-u.bottom-a,c.y2+1)),"start"===n.axisY.position?(c.x1=u.left+o,c.x2=Math.max(s-u.right,c.x1+1)):(c.x1=u.left,c.x2=Math.max(s-u.right-o,c.x1+1))):(c.x1=u.left,c.x2=Math.max(s-u.right,c.x1+1),c.y2=u.top,c.y1=Math.max(l-u.bottom,c.y2+1)),c},e.createGrid=function(t,n,r,i,o,a,s,l){var u={};u[r.units.pos+"1"]=t,u[r.units.pos+"2"]=t,u[r.counterUnits.pos+"1"]=i,u[r.counterUnits.pos+"2"]=i+o;var c=a.elem("line",u,s.join(" "));l.emit("draw",e.extend({type:"grid",axis:r,index:n,group:a,element:c},u))},e.createGridBackground=function(t,e,n,r){var i=t.elem("rect",{x:e.x1,y:e.y2,width:e.width(),height:e.height()},n,!0);r.emit("draw",{type:"gridBackground",group:t,element:i})},e.createLabel=function(t,n,i,o,a,s,l,u,c,f,h){var d,p={};if(p[a.units.pos]=t+l[a.units.pos],p[a.counterUnits.pos]=l[a.counterUnits.pos],p[a.units.len]=n,p[a.counterUnits.len]=Math.max(0,s-10),f){var v=r.createElement("span");v.className=c.join(" "),v.setAttribute("xmlns",e.namespaces.xhtml),v.innerText=o[i],v.style[a.units.len]=Math.round(p[a.units.len])+"px",v.style[a.counterUnits.len]=Math.round(p[a.counterUnits.len])+"px",d=u.foreignObject(v,e.extend({style:"overflow: visible;"},p))}else d=u.elem("text",p,c.join(" ")).text(o[i]);h.emit("draw",e.extend({type:"label",axis:a,index:i,group:u,element:d,text:o[i]},p))},e.getSeriesOption=function(t,e,n){if(t.name&&e.series&&e.series[t.name]){var r=e.series[t.name];return r.hasOwnProperty(n)?r[n]:e[n]}return e[n]},e.optionsProvider=function(t,r,i){var o,a,s=e.extend({},t),l=[];function u(t){var l=o;if(o=e.extend({},s),r)for(a=0;a<r.length;a++)n.matchMedia(r[a][0]).matches&&(o=e.extend(o,r[a][1]));i&&t&&i.emit("optionsChanged",{previousOptions:l,currentOptions:o})}function c(){l.forEach((function(t){t.removeListener(u)}))}if(!n.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(r)for(a=0;a<r.length;a++){var f=n.matchMedia(r[a][0]);f.addListener(u),l.push(f)}return u(),{removeMediaQueryListeners:c,getCurrentOptions:function(){return e.extend({},o)}}},e.splitIntoSegments=function(t,n,r){var i={increasingX:!1,fillHoles:!1};r=e.extend({},i,r);for(var o=[],a=!0,s=0;s<t.length;s+=2)void 0===e.getMultiValue(n[s/2].value)?r.fillHoles||(a=!0):(r.increasingX&&s>=2&&t[s]<=t[s-2]&&(a=!0),a&&(o.push({pathCoordinates:[],valueData:[]}),a=!1),o[o.length-1].pathCoordinates.push(t[s],t[s+1]),o[o.length-1].valueData.push(n[s/2]));return o}}(this||n,t),function(t,e){"use strict";e.Interpolation={},e.Interpolation.none=function(t){var n={fillHoles:!1};return t=e.extend({},n,t),function(n,r){for(var i=new e.Svg.Path,o=!0,a=0;a<n.length;a+=2){var s=n[a],l=n[a+1],u=r[a/2];void 0!==e.getMultiValue(u.value)?(o?i.move(s,l,!1,u):i.line(s,l,!1,u),o=!1):t.fillHoles||(o=!0)}return i}},e.Interpolation.simple=function(t){var n={divisor:2,fillHoles:!1};t=e.extend({},n,t);var r=1/Math.max(1,t.divisor);return function(n,i){for(var o,a,s,l=new e.Svg.Path,u=0;u<n.length;u+=2){var c=n[u],f=n[u+1],h=(c-o)*r,d=i[u/2];void 0!==d.value?(void 0===s?l.move(c,f,!1,d):l.curve(o+h,a,c-h,f,c,f,!1,d),o=c,a=f,s=d):t.fillHoles||(o=c=s=void 0)}return l}},e.Interpolation.cardinal=function(t){var n={tension:1,fillHoles:!1};t=e.extend({},n,t);var r=Math.min(1,Math.max(0,t.tension)),i=1-r;return function n(o,a){var s=e.splitIntoSegments(o,a,{fillHoles:t.fillHoles});if(s.length){if(s.length>1){var l=[];return s.forEach((function(t){l.push(n(t.pathCoordinates,t.valueData))})),e.Svg.Path.join(l)}if(o=s[0].pathCoordinates,a=s[0].valueData,o.length<=4)return e.Interpolation.none()(o,a);for(var u,c=(new e.Svg.Path).move(o[0],o[1],!1,a[0]),f=0,h=o.length;h-2*!u>f;f+=2){var d=[{x:+o[f-2],y:+o[f-1]},{x:+o[f],y:+o[f+1]},{x:+o[f+2],y:+o[f+3]},{x:+o[f+4],y:+o[f+5]}];u?f?h-4===f?d[3]={x:+o[0],y:+o[1]}:h-2===f&&(d[2]={x:+o[0],y:+o[1]},d[3]={x:+o[2],y:+o[3]}):d[0]={x:+o[h-2],y:+o[h-1]}:h-4===f?d[3]=d[2]:f||(d[0]={x:+o[f],y:+o[f+1]}),c.curve(r*(-d[0].x+6*d[1].x+d[2].x)/6+i*d[2].x,r*(-d[0].y+6*d[1].y+d[2].y)/6+i*d[2].y,r*(d[1].x+6*d[2].x-d[3].x)/6+i*d[2].x,r*(d[1].y+6*d[2].y-d[3].y)/6+i*d[2].y,d[2].x,d[2].y,!1,a[(f+2)/2])}return c}return e.Interpolation.none()([])}},e.Interpolation.monotoneCubic=function(t){var n={fillHoles:!1};return t=e.extend({},n,t),function n(r,i){var o=e.splitIntoSegments(r,i,{fillHoles:t.fillHoles,increasingX:!0});if(o.length){if(o.length>1){var a=[];return o.forEach((function(t){a.push(n(t.pathCoordinates,t.valueData))})),e.Svg.Path.join(a)}if(r=o[0].pathCoordinates,i=o[0].valueData,r.length<=4)return e.Interpolation.none()(r,i);var s,l,u=[],c=[],f=r.length/2,h=[],d=[],p=[],v=[];for(s=0;s<f;s++)u[s]=r[2*s],c[s]=r[2*s+1];for(s=0;s<f-1;s++)p[s]=c[s+1]-c[s],v[s]=u[s+1]-u[s],d[s]=p[s]/v[s];for(h[0]=d[0],h[f-1]=d[f-2],s=1;s<f-1;s++)0===d[s]||0===d[s-1]||d[s-1]>0!=d[s]>0?h[s]=0:(h[s]=3*(v[s-1]+v[s])/((2*v[s]+v[s-1])/d[s-1]+(v[s]+2*v[s-1])/d[s]),isFinite(h[s])||(h[s]=0));for(l=(new e.Svg.Path).move(u[0],c[0],!1,i[0]),s=0;s<f-1;s++)l.curve(u[s]+v[s]/3,c[s]+h[s]*v[s]/3,u[s+1]-v[s]/3,c[s+1]-h[s+1]*v[s]/3,u[s+1],c[s+1],!1,i[s+1]);return l}return e.Interpolation.none()([])}},e.Interpolation.step=function(t){var n={postpone:!0,fillHoles:!1};return t=e.extend({},n,t),function(n,r){for(var i,o,a,s=new e.Svg.Path,l=0;l<n.length;l+=2){var u=n[l],c=n[l+1],f=r[l/2];void 0!==f.value?(void 0===a?s.move(u,c,!1,f):(t.postpone?s.line(u,o,!1,a):s.line(i,c,!1,f),s.line(u,c,!1,f)),i=u,o=c,a=f):t.fillHoles||(i=o=a=void 0)}return s}}}(0,t),function(t,e){"use strict";e.EventEmitter=function(){var t=[];function e(e,n){t[e]=t[e]||[],t[e].push(n)}function n(e,n){t[e]&&(n?(t[e].splice(t[e].indexOf(n),1),0===t[e].length&&delete t[e]):delete t[e])}function r(e,n){t[e]&&t[e].forEach((function(t){t(n)})),t["*"]&&t["*"].forEach((function(t){t(e,n)}))}return{addEventHandler:e,removeEventHandler:n,emit:r}}}(0,t),function(t,e){"use strict";function n(t){var e=[];if(t.length)for(var n=0;n<t.length;n++)e.push(t[n]);return e}function r(t,n){var r=n||this.prototype||e.Class,i=Object.create(r);e.Class.cloneDefinitions(i,t);var o=function(){var t,n=i.constructor||function(){};return t=this===e?Object.create(i):this,n.apply(t,Array.prototype.slice.call(arguments,0)),t};return o.prototype=i,o.super=r,o.extend=this.extend,o}function i(){var t=n(arguments),e=t[0];return t.splice(1,t.length-1).forEach((function(t){Object.getOwnPropertyNames(t).forEach((function(n){delete e[n],Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))})),e}e.Class={extend:r,cloneDefinitions:i}}(0,t),function(t,e){"use strict";var n=t.window;function r(t,n,r){return t&&(this.data=t||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),n&&(this.options=e.extend({},r?this.options:this.defaultOptions,n),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=e.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function i(){return this.initializeTimeoutId?n.clearTimeout(this.initializeTimeoutId):(n.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function o(t,e){return this.eventEmitter.addEventHandler(t,e),this}function a(t,e){return this.eventEmitter.removeEventHandler(t,e),this}function s(){n.addEventListener("resize",this.resizeListener),this.optionsProvider=e.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(t){t instanceof Array?t[0](this,t[1]):t(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function l(t,n,r,i,o){this.container=e.querySelector(t),this.data=n||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=r,this.options=i,this.responsiveOptions=o,this.eventEmitter=e.EventEmitter(),this.supportsForeignObject=e.Svg.isSupported("Extensibility"),this.supportsAnimations=e.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(s.bind(this),0)}e.Base=e.Class.extend({constructor:l,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:r,detach:i,on:o,off:a,version:e.version,supportsForeignObject:!1})}(this||n,t),function(t,e){"use strict";var n=t.document;function r(t,r,i,o,a){t instanceof Element?this._node=t:(this._node=n.createElementNS(e.namespaces.svg,t),"svg"===t&&this.attr({"xmlns:ct":e.namespaces.ct})),r&&this.attr(r),i&&this.addClass(i),o&&(a&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node))}function i(t,n){return"string"==typeof t?n?this._node.getAttributeNS(n,t):this._node.getAttribute(t):(Object.keys(t).forEach(function(n){if(void 0!==t[n])if(-1!==n.indexOf(":")){var r=n.split(":");this._node.setAttributeNS(e.namespaces[r[0]],n,t[n])}else this._node.setAttribute(n,t[n])}.bind(this)),this)}function o(t,n,r,i){return new e.Svg(t,n,r,this,i)}function a(){return this._node.parentNode instanceof SVGElement?new e.Svg(this._node.parentNode):null}function s(){for(var t=this._node;"svg"!==t.nodeName;)t=t.parentNode;return new e.Svg(t)}function l(t){var n=this._node.querySelector(t);return n?new e.Svg(n):null}function u(t){var n=this._node.querySelectorAll(t);return n.length?new e.Svg.List(n):null}function c(){return this._node}function f(t,r,i,o){if("string"==typeof t){var a=n.createElement("div");a.innerHTML=t,t=a.firstChild}t.setAttribute("xmlns",e.namespaces.xmlns);var s=this.elem("foreignObject",r,i,o);return s._node.appendChild(t),s}function h(t){return this._node.appendChild(n.createTextNode(t)),this}function d(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function p(){return this._node.parentNode.removeChild(this._node),this.parent()}function v(t){return this._node.parentNode.replaceChild(t._node,this._node),t}function m(t,e){return e&&this._node.firstChild?this._node.insertBefore(t._node,this._node.firstChild):this._node.appendChild(t._node),this}function y(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function g(t){return this._node.setAttribute("class",this.classes(this._node).concat(t.trim().split(/\s+/)).filter((function(t,e,n){return n.indexOf(t)===e})).join(" ")),this}function b(t){var e=t.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(t){return-1===e.indexOf(t)})).join(" ")),this}function x(){return this._node.setAttribute("class",""),this}function w(){return this._node.getBoundingClientRect().height}function k(){return this._node.getBoundingClientRect().width}function S(t,n,r){return void 0===n&&(n=!0),Object.keys(t).forEach(function(i){function o(t,n){var o,a,s,l={};t.easing&&(s=t.easing instanceof Array?t.easing:e.Svg.Easing[t.easing],delete t.easing),t.begin=e.ensureUnit(t.begin,"ms"),t.dur=e.ensureUnit(t.dur,"ms"),s&&(t.calcMode="spline",t.keySplines=s.join(" "),t.keyTimes="0;1"),n&&(t.fill="freeze",l[i]=t.from,this.attr(l),a=e.quantity(t.begin||0).value,t.begin="indefinite"),o=this.elem("animate",e.extend({attributeName:i},t)),n&&setTimeout(function(){try{o._node.beginElement()}catch(e){l[i]=t.to,this.attr(l),o.remove()}}.bind(this),a),r&&o._node.addEventListener("beginEvent",function(){r.emit("animationBegin",{element:this,animate:o._node,params:t})}.bind(this)),o._node.addEventListener("endEvent",function(){r&&r.emit("animationEnd",{element:this,animate:o._node,params:t}),n&&(l[i]=t.to,this.attr(l),o.remove())}.bind(this))}t[i]instanceof Array?t[i].forEach(function(t){o.bind(this)(t,!1)}.bind(this)):o.bind(this)(t[i],n)}.bind(this)),this}e.Svg=e.Class.extend({constructor:r,attr:i,elem:o,parent:a,root:s,querySelector:l,querySelectorAll:u,getNode:c,foreignObject:f,text:h,empty:d,remove:p,replace:v,append:m,classes:y,addClass:g,removeClass:b,removeAllClasses:x,height:w,width:k,animate:S}),e.Svg.isSupported=function(t){return n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+t,"1.1")};var E={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function A(t){var n=this;this.svgElements=[];for(var r=0;r<t.length;r++)this.svgElements.push(new e.Svg(t[r]));Object.keys(e.Svg.prototype).filter((function(t){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(t)})).forEach((function(t){n[t]=function(){var r=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach((function(n){e.Svg.prototype[t].apply(n,r)})),n}}))}e.Svg.Easing=E,e.Svg.List=e.Class.extend({constructor:A})}(this||n,t),function(t,e){"use strict";var n={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},r={accuracy:3};function i(t,n,r,i,o,a){var s=e.extend({command:o?t.toLowerCase():t.toUpperCase()},n,a?{data:a}:{});r.splice(i,0,s)}function o(t,e){t.forEach((function(r,i){n[r.command.toLowerCase()].forEach((function(n,o){e(r,n,i,o,t)}))}))}function a(t,n){this.pathElements=[],this.pos=0,this.close=t,this.options=e.extend({},r,n)}function s(t){return void 0!==t?(this.pos=Math.max(0,Math.min(this.pathElements.length,t)),this):this.pos}function l(t){return this.pathElements.splice(this.pos,t),this}function u(t,e,n,r){return i("M",{x:+t,y:+e},this.pathElements,this.pos++,n,r),this}function c(t,e,n,r){return i("L",{x:+t,y:+e},this.pathElements,this.pos++,n,r),this}function f(t,e,n,r,o,a,s,l){return i("C",{x1:+t,y1:+e,x2:+n,y2:+r,x:+o,y:+a},this.pathElements,this.pos++,s,l),this}function h(t,e,n,r,o,a,s,l,u){return i("A",{rx:+t,ry:+e,xAr:+n,lAf:+r,sf:+o,x:+a,y:+s},this.pathElements,this.pos++,l,u),this}function d(t){var r=t.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(t,e){return e.match(/[A-Za-z]/)&&t.push([]),t[t.length-1].push(e),t}),[]);"Z"===r[r.length-1][0].toUpperCase()&&r.pop();var i=r.map((function(t){var r=t.shift(),i=n[r.toLowerCase()];return e.extend({command:r},i.reduce((function(e,n,r){return e[n]=+t[r],e}),{}))})),o=[this.pos,0];return Array.prototype.push.apply(o,i),Array.prototype.splice.apply(this.pathElements,o),this.pos+=i.length,this}function p(){var t=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(e,r){var i=n[r.command.toLowerCase()].map(function(e){return this.options.accuracy?Math.round(r[e]*t)/t:r[e]}.bind(this));return e+r.command+i.join(",")}.bind(this),"")+(this.close?"Z":"")}function v(t,e){return o(this.pathElements,(function(n,r){n[r]*="x"===r[0]?t:e})),this}function m(t,e){return o(this.pathElements,(function(n,r){n[r]+="x"===r[0]?t:e})),this}function y(t){return o(this.pathElements,(function(e,n,r,i,o){var a=t(e,n,r,i,o);(a||0===a)&&(e[n]=a)})),this}function g(t){var n=new e.Svg.Path(t||this.close);return n.pos=this.pos,n.pathElements=this.pathElements.slice().map((function(t){return e.extend({},t)})),n.options=e.extend({},this.options),n}function b(t){var n=[new e.Svg.Path];return this.pathElements.forEach((function(r){r.command===t.toUpperCase()&&0!==n[n.length-1].pathElements.length&&n.push(new e.Svg.Path),n[n.length-1].pathElements.push(r)})),n}function x(t,n,r){for(var i=new e.Svg.Path(n,r),o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.pathElements.length;s++)i.pathElements.push(a.pathElements[s]);return i}e.Svg.Path=e.Class.extend({constructor:a,position:s,remove:l,move:u,line:c,curve:f,arc:h,scale:v,translate:m,transform:y,parse:d,stringify:p,clone:g,splitByCommand:b}),e.Svg.Path.elementDescriptions=n,e.Svg.Path.join=x}(0,t),function(t,e){"use strict";t.window,t.document;var n={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};function r(t,e,r,i){this.units=t,this.counterUnits=t===n.x?n.y:n.x,this.chartRect=e,this.axisLength=e[t.rectEnd]-e[t.rectStart],this.gridOffset=e[t.rectOffset],this.ticks=r,this.options=i}function i(t,n,r,i,o){var a=i["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(a.labelInterpolationFnc);s.forEach(function(u,c){var f,h={x:0,y:0};f=s[c+1]?s[c+1]-u:Math.max(this.axisLength-u,30),e.isFalseyButZero(l[c])&&""!==l[c]||("x"===this.units.pos?(u=this.chartRect.x1+u,h.x=i.axisX.labelOffset.x,"start"===i.axisX.position?h.y=this.chartRect.padding.top+i.axisX.labelOffset.y+(r?5:20):h.y=this.chartRect.y1+i.axisX.labelOffset.y+(r?5:20)):(u=this.chartRect.y1-u,h.y=i.axisY.labelOffset.y-(r?f:0),"start"===i.axisY.position?h.x=r?this.chartRect.padding.left+i.axisY.labelOffset.x:this.chartRect.x1-10:h.x=this.chartRect.x2+i.axisY.labelOffset.x+10),a.showGrid&&e.createGrid(u,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),t,[i.classNames.grid,i.classNames[this.units.dir]],o),a.showLabel&&e.createLabel(u,f,c,l,this,a.offset,h,n,[i.classNames.label,i.classNames[this.units.dir],"start"===a.position?i.classNames[a.position]:i.classNames.end],r,o))}.bind(this))}e.Axis=e.Class.extend({constructor:r,createGridAndLabels:i,projectValue:function(t,e,n){throw new Error("Base axis can't be instantiated!")}}),e.Axis.units=n}(this||n,t),function(t,e){"use strict";function n(t,n,r,i){var o=i.highLow||e.getHighLow(n,i,t.pos);this.bounds=e.getBounds(r[t.rectEnd]-r[t.rectStart],o,i.scaleMinSpace||20,i.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},e.AutoScaleAxis.super.constructor.call(this,t,r,this.bounds.values,i)}function r(t){return this.axisLength*(+e.getMultiValue(t,this.units.pos)-this.bounds.min)/this.bounds.range}t.window,t.document,e.AutoScaleAxis=e.Axis.extend({constructor:n,projectValue:r})}(this||n,t),function(t,e){"use strict";function n(t,n,r,i){var o=i.highLow||e.getHighLow(n,i,t.pos);this.divisor=i.divisor||1,this.ticks=i.ticks||e.times(this.divisor).map(function(t,e){return o.low+(o.high-o.low)/this.divisor*e}.bind(this)),this.ticks.sort((function(t,e){return t-e})),this.range={min:o.low,max:o.high},e.FixedScaleAxis.super.constructor.call(this,t,r,this.ticks,i),this.stepLength=this.axisLength/this.divisor}function r(t){return this.axisLength*(+e.getMultiValue(t,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}t.window,t.document,e.FixedScaleAxis=e.Axis.extend({constructor:n,projectValue:r})}(this||n,t),function(t,e){"use strict";function n(t,n,r,i){e.StepAxis.super.constructor.call(this,t,r,i.ticks,i);var o=Math.max(1,i.ticks.length-(i.stretch?1:0));this.stepLength=this.axisLength/o}function r(t,e){return this.stepLength*e}t.window,t.document,e.StepAxis=e.Axis.extend({constructor:n,projectValue:r})}(this||n,t),function(t,e){"use strict";t.window,t.document;var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function r(t){var r=e.normalizeData(this.data,t.reverseData,!0);this.svg=e.createSvg(this.container,t.width,t.height,t.classNames.chart);var i,o,a=this.svg.elem("g").addClass(t.classNames.gridGroup),s=this.svg.elem("g"),l=this.svg.elem("g").addClass(t.classNames.labelGroup),u=e.createChartRect(this.svg,t,n.padding);i=void 0===t.axisX.type?new e.StepAxis(e.Axis.units.x,r.normalized.series,u,e.extend({},t.axisX,{ticks:r.normalized.labels,stretch:t.fullWidth})):t.axisX.type.call(e,e.Axis.units.x,r.normalized.series,u,t.axisX),o=void 0===t.axisY.type?new e.AutoScaleAxis(e.Axis.units.y,r.normalized.series,u,e.extend({},t.axisY,{high:e.isNumeric(t.high)?t.high:t.axisY.high,low:e.isNumeric(t.low)?t.low:t.axisY.low})):t.axisY.type.call(e,e.Axis.units.y,r.normalized.series,u,t.axisY),i.createGridAndLabels(a,l,this.supportsForeignObject,t,this.eventEmitter),o.createGridAndLabels(a,l,this.supportsForeignObject,t,this.eventEmitter),t.showGridBackground&&e.createGridBackground(a,u,t.classNames.gridBackground,this.eventEmitter),r.raw.series.forEach(function(n,a){var l=s.elem("g");l.attr({"ct:series-name":n.name,"ct:meta":e.serialize(n.meta)}),l.addClass([t.classNames.series,n.className||t.classNames.series+"-"+e.alphaNumerate(a)].join(" "));var c=[],f=[];r.normalized.series[a].forEach(function(t,s){var l={x:u.x1+i.projectValue(t,s,r.normalized.series[a]),y:u.y1-o.projectValue(t,s,r.normalized.series[a])};c.push(l.x,l.y),f.push({value:t,valueIndex:s,meta:e.getMetaData(n,s)})}.bind(this));var h={lineSmooth:e.getSeriesOption(n,t,"lineSmooth"),showPoint:e.getSeriesOption(n,t,"showPoint"),showLine:e.getSeriesOption(n,t,"showLine"),showArea:e.getSeriesOption(n,t,"showArea"),areaBase:e.getSeriesOption(n,t,"areaBase")},d=("function"==typeof h.lineSmooth?h.lineSmooth:h.lineSmooth?e.Interpolation.monotoneCubic():e.Interpolation.none())(c,f);if(h.showPoint&&d.pathElements.forEach(function(r){var s=l.elem("line",{x1:r.x,y1:r.y,x2:r.x+.01,y2:r.y},t.classNames.point).attr({"ct:value":[r.data.value.x,r.data.value.y].filter(e.isNumeric).join(","),"ct:meta":e.serialize(r.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:r.data.value,index:r.data.valueIndex,meta:r.data.meta,series:n,seriesIndex:a,axisX:i,axisY:o,group:l,element:s,x:r.x,y:r.y})}.bind(this)),h.showLine){var p=l.elem("path",{d:d.stringify()},t.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:r.normalized.series[a],path:d.clone(),chartRect:u,index:a,series:n,seriesIndex:a,seriesMeta:n.meta,axisX:i,axisY:o,group:l,element:p})}if(h.showArea&&o.range){var v=Math.max(Math.min(h.areaBase,o.range.max),o.range.min),m=u.y1-o.projectValue(v);d.splitByCommand("M").filter((function(t){return t.pathElements.length>1})).map((function(t){var e=t.pathElements[0],n=t.pathElements[t.pathElements.length-1];return t.clone(!0).position(0).remove(1).move(e.x,m).line(e.x,e.y).position(t.pathElements.length+1).line(n.x,m)})).forEach(function(e){var s=l.elem("path",{d:e.stringify()},t.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:r.normalized.series[a],path:e.clone(),series:n,seriesIndex:a,axisX:i,axisY:o,chartRect:u,index:a,group:l,element:s})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:o.bounds,chartRect:u,axisX:i,axisY:o,svg:this.svg,options:t})}function i(t,r,i,o){e.Line.super.constructor.call(this,t,r,n,e.extend({},n,i),o)}e.Line=e.Base.extend({constructor:i,createChart:r})}(this||n,t),function(t,e){"use strict";t.window,t.document;var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:e.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function r(t){var r,i;t.distributeSeries?(r=e.normalizeData(this.data,t.reverseData,t.horizontalBars?"x":"y")).normalized.series=r.normalized.series.map((function(t){return[t]})):r=e.normalizeData(this.data,t.reverseData,t.horizontalBars?"x":"y"),this.svg=e.createSvg(this.container,t.width,t.height,t.classNames.chart+(t.horizontalBars?" "+t.classNames.horizontalBars:""));var o=this.svg.elem("g").addClass(t.classNames.gridGroup),a=this.svg.elem("g"),s=this.svg.elem("g").addClass(t.classNames.labelGroup);if(t.stackBars&&0!==r.normalized.series.length){var l=e.serialMap(r.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(t){return t})).reduce((function(t,e){return{x:t.x+(e&&e.x)||0,y:t.y+(e&&e.y)||0}}),{x:0,y:0})}));i=e.getHighLow([l],t,t.horizontalBars?"x":"y")}else i=e.getHighLow(r.normalized.series,t,t.horizontalBars?"x":"y");i.high=+t.high||(0===t.high?0:i.high),i.low=+t.low||(0===t.low?0:i.low);var u,c,f,h,d,p=e.createChartRect(this.svg,t,n.padding);c=t.distributeSeries&&t.stackBars?r.normalized.labels.slice(0,1):r.normalized.labels,t.horizontalBars?(u=h=void 0===t.axisX.type?new e.AutoScaleAxis(e.Axis.units.x,r.normalized.series,p,e.extend({},t.axisX,{highLow:i,referenceValue:0})):t.axisX.type.call(e,e.Axis.units.x,r.normalized.series,p,e.extend({},t.axisX,{highLow:i,referenceValue:0})),f=d=void 0===t.axisY.type?new e.StepAxis(e.Axis.units.y,r.normalized.series,p,{ticks:c}):t.axisY.type.call(e,e.Axis.units.y,r.normalized.series,p,t.axisY)):(f=h=void 0===t.axisX.type?new e.StepAxis(e.Axis.units.x,r.normalized.series,p,{ticks:c}):t.axisX.type.call(e,e.Axis.units.x,r.normalized.series,p,t.axisX),u=d=void 0===t.axisY.type?new e.AutoScaleAxis(e.Axis.units.y,r.normalized.series,p,e.extend({},t.axisY,{highLow:i,referenceValue:0})):t.axisY.type.call(e,e.Axis.units.y,r.normalized.series,p,e.extend({},t.axisY,{highLow:i,referenceValue:0})));var v=t.horizontalBars?p.x1+u.projectValue(0):p.y1-u.projectValue(0),m=[];f.createGridAndLabels(o,s,this.supportsForeignObject,t,this.eventEmitter),u.createGridAndLabels(o,s,this.supportsForeignObject,t,this.eventEmitter),t.showGridBackground&&e.createGridBackground(o,p,t.classNames.gridBackground,this.eventEmitter),r.raw.series.forEach(function(n,i){var o,s,l=i-(r.raw.series.length-1)/2;o=t.distributeSeries&&!t.stackBars?f.axisLength/r.normalized.series.length/2:t.distributeSeries&&t.stackBars?f.axisLength/2:f.axisLength/r.normalized.series[i].length/2,(s=a.elem("g")).attr({"ct:series-name":n.name,"ct:meta":e.serialize(n.meta)}),s.addClass([t.classNames.series,n.className||t.classNames.series+"-"+e.alphaNumerate(i)].join(" ")),r.normalized.series[i].forEach(function(a,c){var y,g,b,x;if(x=t.distributeSeries&&!t.stackBars?i:t.distributeSeries&&t.stackBars?0:c,y=t.horizontalBars?{x:p.x1+u.projectValue(a&&a.x?a.x:0,c,r.normalized.series[i]),y:p.y1-f.projectValue(a&&a.y?a.y:0,x,r.normalized.series[i])}:{x:p.x1+f.projectValue(a&&a.x?a.x:0,x,r.normalized.series[i]),y:p.y1-u.projectValue(a&&a.y?a.y:0,c,r.normalized.series[i])},f instanceof e.StepAxis&&(f.options.stretch||(y[f.units.pos]+=o*(t.horizontalBars?-1:1)),y[f.units.pos]+=t.stackBars||t.distributeSeries?0:l*t.seriesBarDistance*(t.horizontalBars?-1:1)),b=m[c]||v,m[c]=b-(v-y[f.counterUnits.pos]),void 0!==a){var w={};w[f.units.pos+"1"]=y[f.units.pos],w[f.units.pos+"2"]=y[f.units.pos],!t.stackBars||"accumulate"!==t.stackMode&&t.stackMode?(w[f.counterUnits.pos+"1"]=v,w[f.counterUnits.pos+"2"]=y[f.counterUnits.pos]):(w[f.counterUnits.pos+"1"]=b,w[f.counterUnits.pos+"2"]=m[c]),w.x1=Math.min(Math.max(w.x1,p.x1),p.x2),w.x2=Math.min(Math.max(w.x2,p.x1),p.x2),w.y1=Math.min(Math.max(w.y1,p.y2),p.y1),w.y2=Math.min(Math.max(w.y2,p.y2),p.y1);var k=e.getMetaData(n,c);g=s.elem("line",w,t.classNames.bar).attr({"ct:value":[a.x,a.y].filter(e.isNumeric).join(","),"ct:meta":e.serialize(k)}),this.eventEmitter.emit("draw",e.extend({type:"bar",value:a,index:c,meta:k,series:n,seriesIndex:i,axisX:h,axisY:d,chartRect:p,group:s,element:g},w))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:u.bounds,chartRect:p,axisX:h,axisY:d,svg:this.svg,options:t})}function i(t,r,i,o){e.Bar.super.constructor.call(this,t,r,n,e.extend({},n,i),o)}e.Bar=e.Base.extend({constructor:i,createChart:r})}(this||n,t),function(t,e){"use strict";t.window,t.document;var n={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:e.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function r(t,e,n){var r=e.x>t.x;return r&&"explode"===n||!r&&"implode"===n?"start":r&&"implode"===n||!r&&"explode"===n?"end":"middle"}function i(t){var i,o,a,s,l,u=e.normalizeData(this.data),c=[],f=t.startAngle;this.svg=e.createSvg(this.container,t.width,t.height,t.donut?t.classNames.chartDonut:t.classNames.chartPie),o=e.createChartRect(this.svg,t,n.padding),a=Math.min(o.width()/2,o.height()/2),l=t.total||u.normalized.series.reduce((function(t,e){return t+e}),0);var h=e.quantity(t.donutWidth);"%"===h.unit&&(h.value*=a/100),a-=t.donut&&!t.donutSolid?h.value/2:0,s="outside"===t.labelPosition||t.donut&&!t.donutSolid?a:"center"===t.labelPosition?0:t.donutSolid?a-h.value/2:a/2,s+=t.labelOffset;var d={x:o.x1+o.width()/2,y:o.y2+o.height()/2},p=1===u.raw.series.filter((function(t){return t.hasOwnProperty("value")?0!==t.value:0!==t})).length;u.raw.series.forEach(function(t,e){c[e]=this.svg.elem("g",null,null)}.bind(this)),t.showLabel&&(i=this.svg.elem("g",null,null)),u.raw.series.forEach(function(n,o){if(0!==u.normalized.series[o]||!t.ignoreEmptyValues){c[o].attr({"ct:series-name":n.name}),c[o].addClass([t.classNames.series,n.className||t.classNames.series+"-"+e.alphaNumerate(o)].join(" "));var v=l>0?f+u.normalized.series[o]/l*360:0,m=Math.max(0,f-(0===o||p?0:.2));v-m>=359.99&&(v=m+359.99);var y,g,b,x=e.polarToCartesian(d.x,d.y,a,m),w=e.polarToCartesian(d.x,d.y,a,v),k=new e.Svg.Path(!t.donut||t.donutSolid).move(w.x,w.y).arc(a,a,0,v-f>180,0,x.x,x.y);t.donut?t.donutSolid&&(b=a-h.value,y=e.polarToCartesian(d.x,d.y,b,f-(0===o||p?0:.2)),g=e.polarToCartesian(d.x,d.y,b,v),k.line(y.x,y.y),k.arc(b,b,0,v-f>180,1,g.x,g.y)):k.line(d.x,d.y);var S=t.classNames.slicePie;t.donut&&(S=t.classNames.sliceDonut,t.donutSolid&&(S=t.classNames.sliceDonutSolid));var E=c[o].elem("path",{d:k.stringify()},S);if(E.attr({"ct:value":u.normalized.series[o],"ct:meta":e.serialize(n.meta)}),t.donut&&!t.donutSolid&&(E._node.style.strokeWidth=h.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:u.normalized.series[o],totalDataSum:l,index:o,meta:n.meta,series:n,group:c[o],element:E,path:k.clone(),center:d,radius:a,startAngle:f,endAngle:v}),t.showLabel){var A,L;A=1===u.raw.series.length?{x:d.x,y:d.y}:e.polarToCartesian(d.x,d.y,s,f+(v-f)/2),L=u.normalized.labels&&!e.isFalseyButZero(u.normalized.labels[o])?u.normalized.labels[o]:u.normalized.series[o];var M=t.labelInterpolationFnc(L,o);if(M||0===M){var O=i.elem("text",{dx:A.x,dy:A.y,"text-anchor":r(d,A,t.labelDirection)},t.classNames.label).text(""+M);this.eventEmitter.emit("draw",{type:"label",index:o,group:i,element:O,text:""+M,x:A.x,y:A.y})}}f=v}}.bind(this)),this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:t})}function o(t,r,i,o){e.Pie.super.constructor.call(this,t,r,n,e.extend({},n,i),o)}e.Pie=e.Base.extend({constructor:o,createChart:i,determineAnchorPosition:r})}(this||n,t),t}()}.apply(e,[]))||(t.exports=r)}).call(this,n(107))},function(t,e,n){t.exports=n(274)},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(14),i=n(53),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(16),i=n(25),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,n){var r=n(25),i=n(54),o=n(17)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(15),i=n(110);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(14);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r,i,o=n(16),a=n(91),s=o.process,l=s&&s.versions,u=l&&l.v8;u?i=(r=u.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(30);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(5),i=n(114),o=n(62),a=n(96),s=n(46),l=n(36),u=n(56),c=n(17),f=n(15),h=n(51),d=n(115),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,m=c("iterator"),y="keys",g="values",b="entries",x=function(){return this};t.exports=function(t,e,n,c,d,w,k){i(n,e,c);var S,E,A,L=function(t){if(t===d&&C)return C;if(!v&&t in P)return P[t];switch(t){case y:case g:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},M=e+" Iterator",O=!1,P=t.prototype,_=P[m]||P["@@iterator"]||d&&P[d],C=!v&&_||L(d),T="Array"==e&&P.entries||_;if(T&&(S=o(T.call(new t)),p!==Object.prototype&&S.next&&(f||o(S)===p||(a?a(S,p):"function"!=typeof S[m]&&l(S,m,x)),s(S,M,!0,!0),f&&(h[M]=x))),d==g&&_&&_.name!==g&&(O=!0,C=function(){return _.call(this)}),f&&!k||P[m]===C||l(P,m,C),h[e]=C,d)if(E={values:L(g),keys:w?C:L(y),entries:L(b)},k)for(A in E)(v||O||!(A in P))&&u(P,A,E[A]);else r({target:e,proto:!0,forced:v||O},E);return E}},function(t,e,n){var r=n(70),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r={};r[n(17)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(11),i=n(182);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){var r=n(56);t.exports=function(t,e,n){for(var i in e)n&&n.unsafe&&t[i]?t[i]=e[i]:r(t,i,e[i],n);return t}},function(t,e,n){var r=n(11),i=n(63);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){var r=n(17);e.f=r},function(t,e,n){t.exports=n(225)},function(t,e,n){var r=n(142);function i(e,n){return t.exports=i=r||function(t,e){return t.__proto__=e,t},i(e,n)}t.exports=i},function(t,e,n){var r=n(68),i="["+n(78)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,n){var r=n(364),i=n(155),o=n(101),a=n(369);function s(e,n,l){return a()?t.exports=s=i:t.exports=s=function(t,e,n){var i=[null];i.push.apply(i,e);var a=new(r(Function).apply(t,i));return n&&o(a,n.prototype),a},s.apply(null,arguments)}t.exports=s},function(t,e,n){t.exports=n(279)},function(t,e,n){t.exports=n(376)},function(t,e,n){"use strict";var r=n(5),i=n(14),o=n(54),a=n(25),s=n(37),l=n(43),u=n(71),c=n(87),f=n(60),h=n(17),d=n(90),p=h("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",y=d>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=f("concat"),b=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!y||!g},{concat:function(t){var e,n,r,i,o,a=s(this),f=c(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(b(o=-1===e?a:arguments[e])){if(h+(i=l(o.length))>v)throw TypeError(m);for(n=0;n<i;n++,h++)n in o&&u(f,h,o[n])}else{if(h>=v)throw TypeError(m);u(f,h++,o)}return f.length=h,f}})},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){var r=n(26),i=n(14),o=n(86);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(14),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==u||n!=l&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(16),i=n(176),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(89);t.exports=i&&!Symbol.sham&&"symbol"==r(Symbol.iterator)},function(t,e,n){n(73),n(44),n(47),n(184),n(130),n(187);var r=n(10);t.exports=r.Promise},function(t,e,n){var r=n(110),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e,n){"use strict";var r=n(115).IteratorPrototype,i=n(50),o=n(49),a=n(46),s=n(51),l=function(){return this};t.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,u,!1,!0),s[u]=l,t}},function(t,e,n){"use strict";var r,i,o,a=n(62),s=n(36),l=n(28),u=n(17),c=n(15),f=u("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),c||l(r,f)||s(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(14);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(28),i=n(41),o=n(118).indexOf,a=n(61);t.exports=function(t,e){var n,s=i(t),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(41),i=n(43),o=n(93),a=function(t){return function(e,n,a){var s,l=r(e),u=i(l.length),c=o(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(30);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(41),i=n(121),o=n(51),a=n(45),s=n(92),l="Array Iterator",u=a.set,c=a.getterFor(l);t.exports=s(Array,"Array",(function(t,e){u(this,{type:l,target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(16);t.exports=r.Promise},function(t,e,n){"use strict";var r=n(30),i=n(32),o=n(17),a=n(26),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(17),i=n(51),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){var r=n(11);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(17)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r,i,o,a=n(16),s=n(14),l=n(53),u=n(27),c=n(119),f=n(86),h=n(128),d=a.location,p=a.setImmediate,v=a.clearImmediate,m=a.process,y=a.MessageChannel,g=a.Dispatch,b=0,x={},w="onreadystatechange",k=function(t){if(x.hasOwnProperty(t)){var e=x[t];delete x[t],e()}},S=function(t){return function(){k(t)}},E=function(t){k(t.data)},A=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return x[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},v=function(t){delete x[t]},"process"==l(m)?r=function(t){m.nextTick(S(t))}:g&&g.now?r=function(t){g.now(S(t))}:y&&!h?(o=(i=new y).port2,i.port1.onmessage=E,r=u(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(A)||"file:"===d.protocol?r=w in f("script")?function(t){c.appendChild(f("script")).onreadystatechange=function(){c.removeChild(this),k(t)}}:function(t){setTimeout(S(t),0)}:(r=A,a.addEventListener("message",E,!1))),t.exports={set:p,clear:v}},function(t,e,n){var r=n(91);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(11),i=n(25),o=n(65);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(5),i=n(19),o=n(65),a=n(77),s=n(20);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,l=n.reject,u=a((function(){var n=i(e.resolve),o=[],a=0,l=1;s(t,(function(t){var i=a++,s=!1;o.push(void 0),l++,n.call(e,t).then((function(t){s||(s=!0,o[i]={status:"fulfilled",value:t},--l||r(o))}),(function(t){s||(s=!0,o[i]={status:"rejected",reason:t},--l||r(o))}))})),--l||r(o)}));return u.error&&l(u.value),n.promise}})},function(t,e,n){var r=n(5),i=n(16),o=n(91),a=[].slice,s=function(t){return function(e,n){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(t,e,n){n(191);var r=n(10).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},function(t,e,n){n(106),n(73),n(195),n(198),n(199),n(200),n(201),n(135),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212);var r=n(10);t.exports=r.Symbol},function(t,e,n){var r=n(117),i=n(94).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){n(24)("iterator")},function(t,e,n){n(44),n(214);var r=n(10);t.exports=r.Array.from},function(t,e,n){var r=n(217),i=Array.prototype;t.exports=function(t){var e=t.slice;return t===i||t instanceof Array&&e===i.slice?r:e}},function(t,e,n){n(232);var r=n(10);t.exports=r.Array.isArray},function(t,e,n){n(238);var r=n(10);t.exports=r.Reflect.construct},function(t,e,n){"use strict";var r=n(19),i=n(25),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){t.exports=n(243)},function(t,e,n){t.exports=n(246)},function(t,e,n){t.exports=n(255)},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){t.exports=n(257)},function(t,e,n){t.exports=n(258)},function(t,e,n){var r=n(145),i=n(260),o=n(144);t.exports=function(t,e){var n;if(t){if("string"==typeof t)return o(t,e);var a=i(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?r(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(t,e):void 0}}},function(t,e,n){n(268);var r=n(10).Object,i=t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},function(t,e,n){"use strict";var r=n(5),i=n(16),o=n(150),a=n(14),s=n(36),l=n(20),u=n(76),c=n(25),f=n(46),h=n(32).f,d=n(52).forEach,p=n(26),v=n(45),m=v.set,y=v.getterFor;t.exports=function(t,e,n){var v,g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),x=g?"set":"add",w=i[t],k=w&&w.prototype,S={};if(p&&"function"==typeof w&&(b||k.forEach&&!a((function(){(new w).entries().next()})))){v=e((function(e,n){m(u(e,v,t),{type:t,collection:new w}),null!=n&&l(n,e[x],e,g)}));var E=y(t);d(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in k)||b&&"clear"==t||s(v.prototype,t,(function(n,r){var i=E(this).collection;if(!e&&b&&!c(n))return"get"==t&&void 0;var o=i[t](0===n?0:n,r);return e?this:o}))})),b||h(v.prototype,"size",{configurable:!0,get:function(){return E(this).collection.size}})}else v=n.getConstructor(e,t,g,x),o.REQUIRED=!0;return f(v,t,!1,!0),S[t]=v,r({global:!0,forced:!0},S),b||n.setStrong(v,t,g),v}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(61),o=n(25),a=n(28),s=n(32).f,l=n(72),u=n(277),c=l("meta"),f=0,h=Object.isExtensible||function(){return!0},d=function(t){s(t,c,{value:{objectID:"O"+ ++f,weakData:{}}})},p=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,c)){if(!h(t))return"F";if(!e)return"E";d(t)}return t[c].objectID},getWeakData:function(t,e){if(!a(t,c)){if(!h(t))return!0;if(!e)return!1;d(t)}return t[c].weakData},onFreeze:function(t){return u&&p.REQUIRED&&h(t)&&!a(t,c)&&d(t),t}};i[c]=!0},function(t,e,n){"use strict";var r=n(32).f,i=n(50),o=n(97),a=n(27),s=n(76),l=n(20),u=n(92),c=n(123),f=n(26),h=n(150).fastKey,d=n(45),p=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,n,u){var c=t((function(t,r){s(t,c,e),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&l(r,t[u],t,n)})),d=v(e),m=function(t,e,n){var r,i,o=d(t),a=y(t,e);return a?a.value=n:(o.last=a={index:i=h(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},y=function(t,e){var n,r=d(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(c.prototype,{clear:function(){for(var t=d(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=this,n=d(e),r=y(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=d(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),o(c.prototype,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",i=v(e),o=v(r);u(t,e,(function(t,e){p(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},function(t,e,n){var r=n(332),i=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===i||t instanceof Array&&e===i.indexOf?r:e}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t,e){var n,i=r(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e&&"function"!=typeof o)throw TypeError("At least one callback required");return i.has(t)?(n=i.get(t),"function"==typeof e&&(n=e(n),i.set(t,n))):"function"==typeof o&&(n=o(),i.set(t,n)),n}},function(t,e,n){var r=n(366),i=Function.prototype;t.exports=function(t){var e=t.bind;return t===i||t instanceof Function&&e===i.bind?r:e}},function(t,e,n){t.exports=n(368)},function(t,e,n){t.exports=n(219)},function(t,e,n){t.exports=n(233)},function(t,e,n){t.exports=n(267)},function(t,e,n){var r=n(281);function i(t,e,n,i,o,a,s){try{var l=t[a](s),u=l.value}catch(t){return void n(t)}l.done?e(u):r.resolve(u).then(i,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new r((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,l,"next",t)}function l(t){i(a,r,o,s,l,"throw",t)}s(void 0)}))}}},function(t,e,n){var r=n(287),i=n(289),o=n(293);function a(e,n,s){return"undefined"!=typeof Reflect&&i?t.exports=a=i:t.exports=a=function(t,e,n){var i=o(t,e);if(i){var a=r(i,e);return a.get?a.get.call(n):a.value}},a(e,n,s||e)}t.exports=a},function(t,e,n){t.exports=n(297)},function(t,e,n){t.exports=n(318)},function(t,e,n){t.exports=n(322)},function(t,e,n){var r=n(141),i=n(334),o=n(6),a=n(101),s=n(361),l=n(103);function u(e){var n="function"==typeof i?new i:void 0;return t.exports=u=function(t){if(null===t||!s(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return l(t,arguments,o(this).constructor)}return e.prototype=r(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a(e,t)},u(e)}t.exports=u},function(t,e,n){t.exports=n(370)},function(t,e,n){t.exports=n(373)},function(t,e,n){var r,i,o;o=this,r=[n(82)],void 0===(i=function(t){return o.returnExportsGlobal=function(t){return function(t){"use strict";var e={axisTitle:"",axisClass:"ct-axis-title",offset:{x:0,y:0},textAnchor:"middle",flipTitle:!1},n={axisX:e,axisY:e},r=function(t){return t instanceof Function?t():t},i=function(t){return t instanceof Function?t():t};t.plugins=t.plugins||{},t.plugins.ctAxisTitle=function(e){return e=t.extend({},n,e),function(n){n.on("created",(function(n){if(!e.axisX.axisTitle&&!e.axisY.axisTitle)throw new Error("ctAxisTitle plugin - You must provide at least one axis title");if(!n.axisX&&!n.axisY)throw new Error("ctAxisTitle plugin can only be used on charts that have at least one axis");var o,a,s,l=t.normalizePadding(n.options.chartPadding);if(e.axisX.axisTitle&&n.axisX&&(o=n.axisX.axisLength/2+n.options.axisY.offset+l.left,a=l.top,"end"===n.options.axisY.position&&(o-=n.options.axisY.offset),"end"===n.options.axisX.position&&(a+=n.axisY.axisLength),(s=new t.Svg("text")).addClass(i(e.axisX.axisClass)),s.text(r(e.axisX.axisTitle)),s.attr({x:o+e.axisX.offset.x,y:a+e.axisX.offset.y,"text-anchor":e.axisX.textAnchor}),n.svg.append(s,!0)),e.axisY.axisTitle&&n.axisY){o=0,a=n.axisY.axisLength/2+l.top,"start"===n.options.axisX.position&&(a+=n.options.axisX.offset),"end"===n.options.axisY.position&&(o=n.axisX.axisLength);var u="rotate("+(e.axisY.flipTitle?-90:90)+", "+o+", "+a+")";(s=new t.Svg("text")).addClass(i(e.axisY.axisClass)),s.text(r(e.axisY.axisTitle)),s.attr({x:o+e.axisY.offset.x,y:a+e.axisY.offset.y,transform:u,"text-anchor":e.axisY.textAnchor}),n.svg.append(s,!0)}}))}}}(t),t.plugins.ctAxisTitle}(t)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r=n(377),i=n(378),o=n(147),a=n(379);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()}},function(t,e,n){t.exports=n(380)},function(t,e,n){t.exports=n(384)},function(t,e,n){t.exports=n(385)},function(t,e,n){t.exports=n(389)},function(t,e,n){var r=n(174);t.exports=r},function(t,e,n){var r=n(175),i=Array.prototype;t.exports=function(t){var e=t.concat;return t===i||t instanceof Array&&e===i.concat?r:e}},function(t,e,n){n(106);var r=n(29);t.exports=r("Array").concat},function(t,e,n){var r=n(16),i=n(36);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(112);t.exports=r},function(t,e,n){var r=n(70),i=n(68),o=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){var r=n(16),i=n(113),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,e,n){var r=n(26),i=n(32),o=n(11),a=n(75);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,l=0;s>l;)i.f(t,n=r[l++],e[n]);return t}},function(t,e,n){"use strict";var r=n(95),i=n(55);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(25);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r,i,o,a,s=n(5),l=n(15),u=n(16),c=n(30),f=n(122),h=n(56),d=n(97),p=n(46),v=n(123),m=n(25),y=n(19),g=n(76),b=n(53),x=n(113),w=n(20),k=n(126),S=n(64),E=n(127).set,A=n(185),L=n(129),M=n(186),O=n(65),P=n(77),_=n(45),C=n(109),T=n(17),I=n(90),j=T("species"),D="Promise",U=_.get,z=_.set,N=_.getterFor(D),R=f,V=u.TypeError,B=u.document,F=u.process,H=c("fetch"),q=O.f,G=q,X="process"==b(F),Y=!!(B&&B.createEvent&&u.dispatchEvent),Z="unhandledrejection",W=C(D,(function(){if(!(x(R)!==String(R))){if(66===I)return!0;if(!X&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!R.prototype.finally)return!0;if(I>=51&&/native code/.test(R))return!1;var t=R.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[j]=e,!(t.then((function(){}))instanceof e)})),J=W||!k((function(t){R.all(t).catch((function(){}))})),$=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},Q=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;A((function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,l,u,c=r[a++],f=o?c.ok:c.fail,h=c.resolve,d=c.reject,p=c.domain;try{f?(o||(2===e.rejection&&nt(t,e),e.rejection=1),!0===f?s=i:(p&&p.enter(),s=f(i),p&&(p.exit(),u=!0)),s===c.promise?d(V("Promise-chain cycle")):(l=$(s))?l.call(s,h,d):h(s)):d(i)}catch(t){p&&!u&&p.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&tt(t,e)}))}},K=function(t,e,n){var r,i;Y?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},(i=u["on"+t])?i(r):t===Z&&M("Unhandled promise rejection",n)},tt=function(t,e){E.call(u,(function(){var n,r=e.value;if(et(e)&&(n=P((function(){X?F.emit("unhandledRejection",r,t):K(Z,t,r)})),e.rejection=X||et(e)?2:1,n.error))throw n.value}))},et=function(t){return 1!==t.rejection&&!t.parent},nt=function(t,e){E.call(u,(function(){X?F.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},rt=function(t,e,n,r){return function(i){t(e,n,i,r)}},it=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Q(t,e,!0))},ot=function t(e,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(e===r)throw V("Promise can't be resolved itself");var o=$(r);o?A((function(){var i={done:!1};try{o.call(r,rt(t,e,i,n),rt(it,e,i,n))}catch(t){it(e,i,t,n)}})):(n.value=r,n.state=1,Q(e,n,!1))}catch(t){it(e,{done:!1},t,n)}}};W&&(R=function(t){g(this,R,D),y(t),r.call(this);var e=U(this);try{t(rt(ot,this,e),rt(it,this,e))}catch(t){it(this,e,t)}},(r=function(t){z(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(R.prototype,{then:function(t,e){var n=N(this),r=q(S(this,R));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=X?F.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=U(t);this.promise=t,this.resolve=rt(ot,t,e),this.reject=rt(it,t,e)},O.f=q=function(t){return t===R||t===o?new i(t):G(t)},l||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",(function(t,e){var n=this;return new R((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return L(R,H.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:W},{Promise:R}),p(R,D,!1,!0),v(D),o=c(D),s({target:D,stat:!0,forced:W},{reject:function(t){var e=q(this);return e.reject.call(void 0,t),e.promise}}),s({target:D,stat:!0,forced:l||W},{resolve:function(t){return L(l&&this===o?R:this,t)}}),s({target:D,stat:!0,forced:J},{all:function(t){var e=this,n=q(e),r=n.resolve,i=n.reject,o=P((function(){var n=y(e.resolve),o=[],a=0,s=1;w(t,(function(t){var l=a++,u=!1;o.push(void 0),s++,n.call(e,t).then((function(t){u||(u=!0,o[l]=t,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=q(e),r=n.reject,i=P((function(){var i=y(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r,i,o,a,s,l,u,c,f=n(16),h=n(59).f,d=n(53),p=n(127).set,v=n(128),m=f.MutationObserver||f.WebKitMutationObserver,y=f.process,g=f.Promise,b="process"==d(y),x=h(f,"queueMicrotask"),w=x&&x.value;w||(r=function(){var t,e;for(b&&(t=y.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},b?a=function(){y.nextTick(r)}:m&&!v?(s=!0,l=document.createTextNode(""),new m(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):g&&g.resolve?(u=g.resolve(void 0),c=u.then,a=function(){c.call(u,r)}):a=function(){p.call(f,r)}),t.exports=w||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,n){var r=n(16);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(122),a=n(14),s=n(30),l=n(64),u=n(129),c=n(56);r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",s("Promise").prototype.finally)},function(t,e,n){n(131);var r=n(10);t.exports=r.setTimeout},function(t,e,n){t.exports=n(190)},function(t,e,n){var r=n(132);t.exports=r},function(t,e,n){var r=n(5),i=n(26);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(32).f})},function(t,e,n){n(47),n(44);var r=n(98);t.exports=r},function(t,e,n){n(47),n(44);var r=n(63);t.exports=r},function(t,e,n){var r=n(133);t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(5),o=n(16),a=n(30),s=n(15),l=n(26),u=n(89),c=n(111),f=n(14),h=n(28),d=n(54),p=n(25),v=n(11),m=n(37),y=n(41),g=n(69),b=n(49),x=n(50),w=n(75),k=n(134),S=n(196),E=n(197),A=n(59),L=n(32),M=n(84),O=n(36),P=n(56),_=n(88),C=n(74),T=n(61),I=n(72),j=n(17),D=n(99),U=n(24),z=n(46),N=n(45),R=n(52).forEach,V=C("hidden"),B="Symbol",F=j("toPrimitive"),H=N.set,q=N.getterFor(B),G=Object.prototype,X=o.Symbol,Y=a("JSON","stringify"),Z=A.f,W=L.f,J=S.f,$=M.f,Q=_("symbols"),K=_("op-symbols"),tt=_("string-to-symbol-registry"),et=_("symbol-to-string-registry"),nt=_("wks"),rt=o.QObject,it=!rt||!rt.prototype||!rt.prototype.findChild,ot=l&&f((function(){return 7!=x(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Z(G,e);r&&delete G[e],W(t,e,n),r&&t!==G&&W(G,e,r)}:W,at=function(t,e){var n=Q[t]=x(X.prototype);return H(n,{type:B,tag:t,description:e}),l||(n.description=e),n},st=c?function(t){return"symbol"==r(t)}:function(t){return Object(t)instanceof X},lt=function(t,e,n){t===G&&lt(K,e,n),v(t);var r=g(e,!0);return v(n),h(Q,r)?(n.enumerable?(h(t,V)&&t[V][r]&&(t[V][r]=!1),n=x(n,{enumerable:b(0,!1)})):(h(t,V)||W(t,V,b(1,{})),t[V][r]=!0),ot(t,r,n)):W(t,r,n)},ut=function(t,e){v(t);var n=y(e),r=w(n).concat(dt(n));return R(r,(function(e){l&&!ct.call(n,e)||lt(t,e,n[e])})),t},ct=function(t){var e=g(t,!0),n=$.call(this,e);return!(this===G&&h(Q,e)&&!h(K,e))&&(!(n||!h(this,e)||!h(Q,e)||h(this,V)&&this[V][e])||n)},ft=function(t,e){var n=y(t),r=g(e,!0);if(n!==G||!h(Q,r)||h(K,r)){var i=Z(n,r);return!i||!h(Q,r)||h(n,V)&&n[V][r]||(i.enumerable=!0),i}},ht=function(t){var e=J(y(t)),n=[];return R(e,(function(t){h(Q,t)||h(T,t)||n.push(t)})),n},dt=function(t){var e=t===G,n=J(e?K:y(t)),r=[];return R(n,(function(t){!h(Q,t)||e&&!h(G,t)||r.push(Q[t])})),r};(u||(P((X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function t(n){this===G&&t.call(K,n),h(this,V)&&h(this[V],e)&&(this[V][e]=!1),ot(this,e,b(1,n))};return l&&it&&ot(G,e,{configurable:!0,set:n}),at(e,t)}).prototype,"toString",(function(){return q(this).tag})),P(X,"withoutSetter",(function(t){return at(I(t),t)})),M.f=ct,L.f=lt,A.f=ft,k.f=S.f=ht,E.f=dt,D.f=function(t){return at(j(t),t)},l&&(W(X.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),s||P(G,"propertyIsEnumerable",ct,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:X}),R(w(nt),(function(t){U(t)})),i({target:B,stat:!0,forced:!u},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var n=X(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!l},{create:function(t,e){return void 0===e?x(t):ut(x(t),e)},defineProperty:lt,defineProperties:ut,getOwnPropertyDescriptor:ft}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ht,getOwnPropertySymbols:dt}),i({target:"Object",stat:!0,forced:f((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(m(t))}}),Y)&&i({target:"JSON",stat:!0,forced:!u||f((function(){var t=X();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=e,(p(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),i[1]=e,Y.apply(null,i)}});X.prototype[F]||O(X.prototype,F,X.prototype.valueOf),z(X,B),T[V]=!0},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(41),o=n(134).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==a.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(i(t))}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){n(24)("asyncIterator")},function(t,e){},function(t,e,n){n(24)("hasInstance")},function(t,e,n){n(24)("isConcatSpreadable")},function(t,e,n){n(24)("match")},function(t,e,n){n(24)("matchAll")},function(t,e,n){n(24)("replace")},function(t,e,n){n(24)("search")},function(t,e,n){n(24)("species")},function(t,e,n){n(24)("split")},function(t,e,n){n(24)("toPrimitive")},function(t,e,n){n(24)("toStringTag")},function(t,e,n){n(24)("unscopables")},function(t,e,n){n(46)(Math,"Math",!0)},function(t,e,n){var r=n(16);n(46)(r.JSON,"JSON",!0)},function(t,e,n){var r=n(136);t.exports=r},function(t,e,n){var r=n(5),i=n(215);r({target:"Array",stat:!0,forced:!n(126)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){"use strict";var r=n(27),i=n(37),o=n(125),a=n(124),s=n(43),l=n(71),u=n(63);t.exports=function(t){var e,n,c,f,h,d,p=i(t),v="function"==typeof this?this:Array,m=arguments.length,y=m>1?arguments[1]:void 0,g=void 0!==y,b=u(p),x=0;if(g&&(y=r(y,m>2?arguments[2]:void 0,2)),null==b||v==Array&&a(b))for(n=new v(e=s(p.length));e>x;x++)d=g?y(p[x],x):p[x],l(n,x,d);else for(h=(f=b.call(p)).next,n=new v;!(c=h.call(f)).done;x++)d=g?o(f,y,[c.value,x],!0):c.value,l(n,x,d);return n.length=x,n}},function(t,e,n){var r=n(137);t.exports=r},function(t,e,n){n(218);var r=n(29);t.exports=r("Array").slice},function(t,e,n){"use strict";var r=n(5),i=n(25),o=n(54),a=n(93),s=n(43),l=n(41),u=n(71),c=n(17),f=n(60),h=n(42),d=f("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),v=c("species"),m=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,e){var n,r,c,f=l(this),h=s(f.length),d=a(t,h),p=a(void 0===e?h:e,h);if(o(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(f,d,p);for(r=new(void 0===n?Array:n)(y(p-d,0)),c=0;d<p;d++,c++)d in f&&u(r,c,f[d]);return r.length=c,r}})},function(t,e,n){var r=n(220);t.exports=r},function(t,e,n){n(221);var r=n(10);r.JSON||(r.JSON={stringify:JSON.stringify}),t.exports=function(t,e,n){return r.JSON.stringify.apply(null,arguments)}},function(t,e,n){var r=n(5),i=n(30),o=n(14),a=i("JSON","stringify"),s=/[\uD800-\uDFFF]/g,l=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,c=function(t,e,n){var r=n.charAt(e-1),i=n.charAt(e+1);return l.test(t)&&!u.test(i)||u.test(t)&&!l.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},f=o((function(){return'"\\udf06\\ud834"'!==a("\udf06\ud834")||'"\\udead"'!==a("\udead")}));a&&r({target:"JSON",stat:!0,forced:f},{stringify:function(t,e,n){var r=a.apply(null,arguments);return"string"==typeof r?r.replace(s,c):r}})},function(t,e,n){t.exports=n(223)},function(t,e,n){var r=n(224);t.exports=r},function(t,e,n){n(135),n(44),n(47);var r=n(99);t.exports=r.f("iterator")},function(t,e,n){var r=n(133);n(226),n(227),n(228),n(229),n(230),t.exports=r},function(t,e,n){n(24)("asyncDispose")},function(t,e,n){n(24)("dispose")},function(t,e,n){n(24)("observable")},function(t,e,n){n(24)("patternMatch")},function(t,e,n){n(24)("replaceAll")},function(t,e,n){var r=n(138);t.exports=r},function(t,e,n){n(5)({target:"Array",stat:!0},{isArray:n(54)})},function(t,e,n){var r=n(234);t.exports=r},function(t,e,n){n(235);var r=n(10);t.exports=r.URLSearchParams},function(t,e,n){"use strict";n(120);var r=n(5),i=n(30),o=n(236),a=n(56),s=n(97),l=n(46),u=n(114),c=n(45),f=n(76),h=n(28),d=n(27),p=n(55),v=n(11),m=n(25),y=n(50),g=n(49),b=n(98),x=n(63),w=n(17),k=i("fetch"),S=i("Headers"),E=w("iterator"),A="URLSearchParams",L="URLSearchParamsIterator",M=c.set,O=c.getterFor(A),P=c.getterFor(L),_=/\+/g,C=Array(4),T=function(t){return C[t-1]||(C[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},I=function(t){try{return decodeURIComponent(t)}catch(e){return t}},j=function(t){var e=t.replace(_," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(T(n--),I);return e}},D=/[!'()~]|%20/g,U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},z=function(t){return U[t]},N=function(t){return encodeURIComponent(t).replace(D,z)},R=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:j(r.shift()),value:j(r.join("="))}))},V=function(t){this.entries.length=0,R(this.entries,t)},B=function(t,e){if(t<e)throw TypeError("Not enough arguments")},F=u((function(t,e){M(this,{type:L,iterator:b(O(t).entries),kind:e})}),"Iterator",(function(){var t=P(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),H=function(){f(this,H,A);var t,e,n,r,i,o,a,s,l,u=arguments.length>0?arguments[0]:void 0,c=this,d=[];if(M(c,{type:A,entries:d,updateURL:function(){},updateSearchParams:V}),void 0!==u)if(m(u))if("function"==typeof(t=x(u)))for(n=(e=t.call(u)).next;!(r=n.call(e)).done;){if((a=(o=(i=b(v(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(l in u)h(u,l)&&d.push({key:l,value:u[l]+""});else R(d,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},q=H.prototype;s(q,{append:function(t,e){B(arguments.length,2);var n=O(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){B(arguments.length,1);for(var e=O(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){B(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){B(arguments.length,1);for(var e=O(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){B(arguments.length,1);for(var e=O(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){B(arguments.length,1);for(var n,r=O(this),i=r.entries,o=!1,a=t+"",s=e+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=O(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=O(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new F(this,"keys")},values:function(){return new F(this,"values")},entries:function(){return new F(this,"entries")}},{enumerable:!0}),a(q,E,q.entries),a(q,"toString",(function(){for(var t,e=O(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(N(t.key)+"="+N(t.value));return n.join("&")}),{enumerable:!0}),l(H,A),r({global:!0,forced:!o},{URLSearchParams:H}),o||"function"!=typeof k||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(m(e=arguments[1])&&(n=e.body,p(n)===A&&((r=e.headers?new S(e.headers):new S).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=y(e,{body:g(0,String(n)),headers:g(0,r)}))),i.push(e)),k.apply(this,i)}}),t.exports={URLSearchParams:H,getState:O}},function(t,e,n){var r=n(14),i=n(17),o=n(15),a=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){var r=n(139);t.exports=r},function(t,e,n){var r=n(5),i=n(30),o=n(19),a=n(11),s=n(25),l=n(50),u=n(140),c=n(14),f=i("Reflect","construct"),h=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),d=!c((function(){f((function(){}))})),p=h||d;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!h)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(u.apply(t,r))}var i=n.prototype,c=l(s(i)?i:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},function(t,e,n){var r=n(240);t.exports=r},function(t,e,n){n(241);var r=n(10);t.exports=r.Number.isSafeInteger},function(t,e,n){var r=n(5),i=n(242),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(25),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(244);t.exports=r},function(t,e,n){n(245);var r=n(10).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){n(5)({target:"Object",stat:!0,sham:!n(26)},{create:n(50)})},function(t,e,n){var r=n(247);t.exports=r},function(t,e,n){n(248);var r=n(10);t.exports=r.Object.setPrototypeOf},function(t,e,n){n(5)({target:"Object",stat:!0},{setPrototypeOf:n(96)})},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){t.exports=n(251)},function(t,e,n){var r=n(252);t.exports=r},function(t,e,n){n(253);var r=n(10);t.exports=r.Object.getPrototypeOf},function(t,e,n){var r=n(5),i=n(14),o=n(37),a=n(62),s=n(116);r({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){var r=n(143),i=n(144);t.exports=function(t){if(r(t))return i(t)}},function(t,e,n){var r=n(138);t.exports=r},function(t,e,n){var r=n(145),i=n(146),o=n(100);t.exports=function(t){if(void 0!==o&&i(Object(t)))return r(t)}},function(t,e,n){var r=n(136);t.exports=r},function(t,e,n){n(47),n(44);var r=n(259);t.exports=r},function(t,e,n){var r=n(55),i=n(17),o=n(51),a=i("iterator");t.exports=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports=n(261)},function(t,e,n){var r=n(137);t.exports=r},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(264);t.exports=r},function(t,e,n){var r=n(265),i=Array.prototype;t.exports=function(t){var e=t.find;return t===i||t instanceof Array&&e===i.find?r:e}},function(t,e,n){n(266);var r=n(29);t.exports=r("Array").find},function(t,e,n){"use strict";var r=n(5),i=n(52).find,o=n(121),a=n(42),s="find",l=!0,u=a(s);s in[]&&Array(1).find((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(s)},function(t,e,n){var r=n(148);t.exports=r},function(t,e,n){var r=n(5),i=n(14),o=n(41),a=n(59).f,s=n(26),l=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){n(47);var r=n(270),i=n(55),o=Array.prototype,a={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===o||t instanceof Array&&e===o.forEach||a.hasOwnProperty(i(t))?r:e}},function(t,e,n){var r=n(271);t.exports=r},function(t,e,n){n(272);var r=n(29);t.exports=r("Array").forEach},function(t,e,n){"use strict";var r=n(5),i=n(273);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(52).forEach,i=n(66),o=n(42),a=i("forEach"),s=o("forEach");t.exports=a&&s?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(275);t.exports=r},function(t,e,n){n(276),n(73),n(44),n(47);var r=n(10);t.exports=r.Set},function(t,e,n){"use strict";var r=n(149),i=n(151);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){var r=n(14);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(132);t.exports=r},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=f(t,e,n);if("normal"===l.type){if(r=n.done?v:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=v,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",d="suspendedYield",p="executing",v="completed",m={};function y(){}function g(){}function b(){}var x={};x[a]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(_([])));k&&k!==r&&i.call(k,a)&&(x=k);var S=b.prototype=y.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,n){function r(o,a,s,l){var u=f(t[o],t,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===e(h)&&i.call(h,"__await")?n.resolve(h.__await).then((function(t){r("next",t,s,l)}),(function(t){r("throw",t,s,l)})):n.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,l)}))}l(u.arg)}var o;this._invoke=function(t,e){function i(){return new n((function(n,i){r(t,e,n,i)}))}return o=o?o.then(i,i):i()}}function L(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,L(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:n,done:!0}}return g.prototype=S.constructor=b,b.constructor=g,g.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},E(A.prototype),A.prototype[s]=function(){return this},t.AsyncIterator=A,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new A(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(S),u(S,l,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(280)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){t.exports=n(282)},function(t,e,n){var r=n(112);n(283),n(284),n(285),n(286),t.exports=r},function(t,e,n){"use strict";var r=n(5),i=n(26),o=n(62),a=n(96),s=n(50),l=n(32),u=n(49),c=n(20),f=n(36),h=n(45),d=h.set,p=h.getterFor("AggregateError"),v=function(t,e){var n=this;if(!(n instanceof v))return new v(t,e);a&&(n=a(new Error(e),o(n)));var r=[];return c(t,r.push,r),i?d(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&f(n,"message",String(e)),n};v.prototype=s(Error.prototype,{constructor:u(5,v),message:u(5,""),name:u(5,"AggregateError")}),i&&l.f(v.prototype,"errors",{get:function(){return p(this).errors},configurable:!0}),r({global:!0},{AggregateError:v})},function(t,e,n){n(130)},function(t,e,n){"use strict";var r=n(5),i=n(65),o=n(77);r({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),n=o(t);return(n.error?e.reject:e.resolve)(n.value),e.promise}})},function(t,e,n){"use strict";var r=n(5),i=n(19),o=n(30),a=n(65),s=n(77),l=n(20),u="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,f=s((function(){var n=i(e.resolve),a=[],s=0,f=1,h=!1;l(t,(function(t){var i=s++,l=!1;a.push(void 0),f++,n.call(e,t).then((function(t){l||h||(h=!0,r(t))}),(function(t){l||h||(l=!0,a[i]=t,--f||c(new(o("AggregateError"))(a,u)))}))})),--f||c(new(o("AggregateError"))(a,u))}));return f.error&&c(f.value),n.promise}})},function(t,e,n){t.exports=n(288)},function(t,e,n){var r=n(148);t.exports=r},function(t,e,n){t.exports=n(290)},function(t,e,n){var r=n(291);t.exports=r},function(t,e,n){n(292);var r=n(10);t.exports=r.Reflect.get},function(t,e,n){var r=n(5),i=n(25),o=n(11),a=n(28),s=n(59),l=n(62);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,u,c=arguments.length<3?e:arguments[2];return o(e)===c?e[n]:(r=s.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(c):i(u=l(e))?t(u,n,c):void 0}})},function(t,e,n){var r=n(6);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e,n){var r=n(295);t.exports=r},function(t,e,n){n(296);var r=n(10);t.exports=r.Object.keys},function(t,e,n){var r=n(5),i=n(37),o=n(75);r({target:"Object",stat:!0,forced:n(14)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},function(t,e,n){var r=n(298);t.exports=r},function(t,e,n){var r=n(299),i=Array.prototype;t.exports=function(t){var e=t.every;return t===i||t instanceof Array&&e===i.every?r:e}},function(t,e,n){n(300);var r=n(29);t.exports=r("Array").every},function(t,e,n){"use strict";var r=n(5),i=n(52).every,o=n(66),a=n(42),s=o("every"),l=a("every");r({target:"Array",proto:!0,forced:!s||!l},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(302);t.exports=r},function(t,e,n){n(303);var r=n(10);t.exports=r.parseFloat},function(t,e,n){var r=n(5),i=n(304);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(t,e,n){var r=n(16),i=n(102).trim,o=n(78),a=r.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=i(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var r=n(306);t.exports=r},function(t,e,n){var r=n(307),i=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===i||t instanceof String&&e===i.trim?r:e}},function(t,e,n){n(308);var r=n(29);t.exports=r("String").trim},function(t,e,n){"use strict";var r=n(5),i=n(102).trim;r({target:"String",proto:!0,forced:n(309)("trim")},{trim:function(){return i(this)}})},function(t,e,n){var r=n(14),i=n(78);t.exports=function(t){return r((function(){return!!i[t]()||"​᠎"!="​᠎"[t]()||i[t].name!==t}))}},function(t,e,n){var r=n(311);t.exports=r},function(t,e,n){n(312);var r=n(10);t.exports=r.parseInt},function(t,e,n){var r=n(5),i=n(313);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){var r=n(16),i=n(102).trim,o=n(78),a=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");t.exports=l?function(t,e){var n=i(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){var r=n(315);t.exports=r},function(t,e,n){var r=n(316),i=Array.prototype;t.exports=function(t){var e=t.map;return t===i||t instanceof Array&&e===i.map?r:e}},function(t,e,n){n(317);var r=n(29);t.exports=r("Array").map},function(t,e,n){"use strict";var r=n(5),i=n(52).map,o=n(60),a=n(42),s=o("map"),l=a("map");r({target:"Array",proto:!0,forced:!s||!l},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(319);t.exports=r},function(t,e,n){var r=n(320),i=Array.prototype;t.exports=function(t){var e=t.filter;return t===i||t instanceof Array&&e===i.filter?r:e}},function(t,e,n){n(321);var r=n(29);t.exports=r("Array").filter},function(t,e,n){"use strict";var r=n(5),i=n(52).filter,o=n(60),a=n(42),s=o("filter"),l=a("filter");r({target:"Array",proto:!0,forced:!s||!l},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(323);t.exports=r},function(t,e,n){var r=n(324),i=Array.prototype;t.exports=function(t){var e=t.reduce;return t===i||t instanceof Array&&e===i.reduce?r:e}},function(t,e,n){n(325);var r=n(29);t.exports=r("Array").reduce},function(t,e,n){"use strict";var r=n(5),i=n(326).left,o=n(66),a=n(42),s=o("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(19),i=n(37),o=n(85),a=n(43),s=function(t){return function(e,n,s,l){r(n);var u=i(e),c=o(u),f=a(u.length),h=t?f-1:0,d=t?-1:1;if(s<2)for(;;){if(h in c){l=c[h],h+=d;break}if(h+=d,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=d)h in c&&(l=n(l,c[h],h,u));return l}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){var r=n(328);t.exports=r},function(t,e,n){var r=n(329),i=Array.prototype;t.exports=function(t){var e=t.splice;return t===i||t instanceof Array&&e===i.splice?r:e}},function(t,e,n){n(330);var r=n(29);t.exports=r("Array").splice},function(t,e,n){"use strict";var r=n(5),i=n(93),o=n(70),a=n(43),s=n(37),l=n(87),u=n(71),c=n(60),f=n(42),h=c("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,m=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var n,r,c,f,h,d,g=s(this),b=a(g.length),x=i(t,b),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=b-x):(n=w-2,r=v(p(o(e),0),b-x)),b+n-r>m)throw TypeError(y);for(c=l(g,r),f=0;f<r;f++)(h=x+f)in g&&u(c,f,g[h]);if(c.length=r,n<r){for(f=x;f<b-r;f++)d=f+n,(h=f+r)in g?g[d]=g[h]:delete g[d];for(f=b;f>b-r+n;f--)delete g[f-1]}else if(n>r)for(f=b-r;f>x;f--)d=f+n-1,(h=f+r-1)in g?g[d]=g[h]:delete g[d];for(f=0;f<n;f++)g[f+x]=arguments[f+2];return g.length=b-r+n,c}})},function(t,e,n){var r=n(152);t.exports=r},function(t,e,n){n(333);var r=n(29);t.exports=r("Array").indexOf},function(t,e,n){"use strict";var r=n(5),i=n(118).indexOf,o=n(66),a=n(42),s=[].indexOf,l=!!s&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),c=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(t){return l?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){t.exports=n(335)},function(t,e,n){var r=n(336);n(338),n(340),n(342),n(344),n(345),n(346),n(347),n(348),n(349),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),t.exports=r},function(t,e,n){n(337),n(73),n(44),n(47);var r=n(10);t.exports=r.Map},function(t,e,n){"use strict";var r=n(149),i=n(151);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){n(5)({target:"Map",stat:!0},{from:n(339)})},function(t,e,n){"use strict";var r=n(19),i=n(27),o=n(20);t.exports=function(t){var e,n,a,s,l=arguments.length,u=l>1?arguments[1]:void 0;return r(this),(e=void 0!==u)&&r(u),null==t?new this:(n=[],e?(a=0,s=i(u,l>2?arguments[2]:void 0,2),o(t,(function(t){n.push(s(t,a++))}))):o(t,n.push,n),new this(n))}},function(t,e,n){n(5)({target:"Map",stat:!0},{of:n(341)})},function(t,e,n){"use strict";t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(343);r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,n){"use strict";var r=n(11),i=n(19);t.exports=function(){for(var t,e=r(this),n=i(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=n.call(e,arguments[a]),o=o&&t;return!!o}},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(27),s=n(38),l=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return!l(n,(function(t,n){if(!r(n,t,e))return l.stop()}),void 0,!0,!0).stopped}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(30),a=n(11),s=n(19),l=n(27),u=n(64),c=n(38),f=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(t){var e=a(this),n=c(e),r=l(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,o("Map"))),h=s(i.set);return f(n,(function(t,n){r(n,t,e)&&h.call(i,t,n)}),void 0,!0,!0),i}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(27),s=n(38),l=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(t,n){if(r(n,t,e))return l.stop(n)}),void 0,!0,!0).result}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(27),s=n(38),l=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(t,n){if(r(n,t,e))return l.stop(t)}),void 0,!0,!0).result}})},function(t,e,n){"use strict";var r=n(5),i=n(20),o=n(19);r({target:"Map",stat:!0},{groupBy:function(t,e){var n=new this;o(e);var r=o(n.has),a=o(n.get),s=o(n.set);return i(t,(function(t){var i=e(t);r.call(n,i)?a.call(n,i).push(t):s.call(n,i,[t])})),n}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(38),s=n(350),l=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(t){return l(a(o(this)),(function(e,n){if(s(n,t))return l.stop()}),void 0,!0,!0).stopped}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(5),i=n(20),o=n(19);r({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this;o(e);var r=o(n.set);return i(t,(function(t){r.call(n,e(t),t)})),n}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(38),s=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(t){return s(a(o(this)),(function(e,n){if(n===t)return s.stop(e)}),void 0,!0,!0).result}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(30),a=n(11),s=n(19),l=n(27),u=n(64),c=n(38),f=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(t){var e=a(this),n=c(e),r=l(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,o("Map"))),h=s(i.set);return f(n,(function(t,n){h.call(i,r(n,t,e),n)}),void 0,!0,!0),i}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(30),a=n(11),s=n(19),l=n(27),u=n(64),c=n(38),f=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(t){var e=a(this),n=c(e),r=l(t,arguments.length>1?arguments[1]:void 0,3),i=new(u(e,o("Map"))),h=s(i.set);return f(n,(function(t,n){h.call(i,t,r(n,t,e))}),void 0,!0,!0),i}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(19),s=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(t){for(var e=o(this),n=a(e.set),r=0;r<arguments.length;)s(arguments[r++],n,e,!0);return e}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(19),s=n(38),l=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(t){var e=o(this),n=s(e),r=arguments.length<2,i=r?void 0:arguments[1];if(a(t),l(n,(function(n,o){r?(r=!1,i=o):i=t(i,o,n,e)}),void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(27),s=n(38),l=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),n=s(e),r=a(t,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(t,n){if(r(n,t,e))return l.stop()}),void 0,!0,!0).stopped}})},function(t,e,n){"use strict";var r=n(5),i=n(15),o=n(11),a=n(19);r({target:"Map",proto:!0,real:!0,forced:i},{update:function(t,e){var n=o(this),r=arguments.length;a(e);var i=n.has(t);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(t):a(r>2?arguments[2]:void 0)(t,n);return n.set(t,e(s,t,n)),n}})},function(t,e,n){"use strict";n(5)({target:"Map",proto:!0,real:!0,forced:n(15)},{upsert:n(153)})},function(t,e,n){"use strict";n(5)({target:"Map",proto:!0,real:!0,forced:n(15)},{updateOrInsert:n(153)})},function(t,e,n){var r=n(362);t.exports=function(t){var e;return-1!==r(e=Function.toString.call(t)).call(e,"[native code]")}},function(t,e,n){t.exports=n(363)},function(t,e,n){var r=n(152);t.exports=r},function(t,e,n){t.exports=n(365)},function(t,e,n){var r=n(154);t.exports=r},function(t,e,n){n(367);var r=n(29);t.exports=r("Function").bind},function(t,e,n){n(5)({target:"Function",proto:!0},{bind:n(140)})},function(t,e,n){var r=n(139);t.exports=r},function(t,e,n){var r=n(155);t.exports=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,n){var r=n(371);t.exports=r},function(t,e,n){n(372),t.exports=Math.pow(2,-52)},function(t,e,n){n(5)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(374);t.exports=r},function(t,e,n){n(375);var r=n(10);t.exports=r.Math.trunc},function(t,e,n){var r=n(5),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:i)(t)}})},function(t,e,n){var r=n(154);t.exports=r},function(t,e,n){var r=n(143);t.exports=function(t){if(r(t))return t}},function(t,e,n){var r=n(18),i=n(146),o=n(100);t.exports=function(t,e){if(void 0!==o&&i(Object(t))){var n=[],a=!0,s=!1,l=void 0;try{for(var u,c=r(t);!(a=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);a=!0);}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(381);t.exports=r},function(t,e,n){n(382);var r=n(10);t.exports=r.Object.entries},function(t,e,n){var r=n(5),i=n(383).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){var r=n(26),i=n(75),o=n(41),a=n(84).f,s=function(t){return function(e){for(var n,s=o(e),l=i(s),u=l.length,c=0,f=[];u>c;)n=l[c++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){n(131);var r=n(10);t.exports=r.setInterval},function(t,e,n){var r=n(386);t.exports=r},function(t,e,n){var r=n(387),i=Array.prototype;t.exports=function(t){var e=t.sort;return t===i||t instanceof Array&&e===i.sort?r:e}},function(t,e,n){n(388);var r=n(29);t.exports=r("Array").sort},function(t,e,n){"use strict";var r=n(5),i=n(19),o=n(37),a=n(14),s=n(66),l=[],u=l.sort,c=a((function(){l.sort(void 0)})),f=a((function(){l.sort(null)})),h=s("sort");r({target:"Array",proto:!0,forced:c||!f||!h},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},function(t,e,n){var r=n(390);t.exports=r},function(t,e,n){var r=n(391),i=Array.prototype;t.exports=function(t){var e=t.reverse;return t===i||t instanceof Array&&e===i.reverse?r:e}},function(t,e,n){n(392);var r=n(29);t.exports=r("Array").reverse},function(t,e,n){"use strict";var r=n(5),i=n(54),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),o=n(13),a=n.n(o),s=n(31),l=n.n(s),u=n(3),c=n.n(u),f=n(4),h=n.n(f),d=n(18),p=n.n(d),v=n(21),m=n.n(v),y=n(22),g=n.n(y),b=n(23),x=n.n(b),w=n(12),k=n.n(w),S=n(156),E=n.n(S),A=n(39),L=n.n(A),M=n(9),O=n.n(M),P=n(157),_=n.n(P);function C(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return T(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var I=function(){function t(){c()(this,t)}return h()(t,null,[{key:"post",value:function(t,e,n){var r=n||{};return r.method="POST",this.ajax(t,e,r)}},{key:"get",value:function(t,e,n){var r=n||{};return r.method="GET",this.ajax(t,e,r)}},{key:"ajax",value:function(t,e,n){var r=this,o=[];e=e||{};var s=(n=n||{}).method||"GET",l=new XMLHttpRequest;return new a.a((function(n,a){var u;if(l.onreadystatechange=function(){if(l.readyState===XMLHttpRequest.DONE){var t="",e=!0;if(200===l.status)try{var r=JSON.parse(l.responseText);r&&(r.error?r.message&&(t=r.message):(n&&"function"==typeof n&&n(r),e=!1))}catch(e){t=e.message}else t="HTTP error ".concat(l.status);e&&a&&"function"==typeof a&&a(new Error(t))}},e instanceof HTMLFormElement&&(e=new FormData(e)),e instanceof FormData)u="POST"===s?e:new _.a(e).toString();else{for(var c in e)if(e.hasOwnProperty(c))if(O()(e[c])){var f,h=C(e[c]);try{for(h.s();!(f=h.n()).done;){var d,p=f.value;o.push(i()(d="".concat(c,"[]=")).call(d,r.encodeValue(p)))}}catch(t){h.e(t)}finally{h.f()}}else{var v;o.push(i()(v="".concat(c,"=")).call(v,r.encodeValue(e[c])))}u=(u=o.join("&")).replace(/%20/g,"+")}"GET"===s&&u.length&&(t+="?".concat(u),u=null),l.open(s,t,!0),"POST"!==s||e instanceof FormData||l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send(u)}))}},{key:"encodeValue",value:function(t){return"object"===L()(t)&&(t=E()(t)),encodeURIComponent(t)}}]),t}(),j=n(1),D=n.n(j),U=n(79),z=n.n(U),N=n(7),R=n.n(N),V=n(8),B=n.n(V),F=n(6),H=n.n(F),q=n(57),G=n.n(q),X=n(40),Y=n.n(X),Z=n(158),W=n.n(Z),J=n(34),$=n.n(J),Q=n(83),K=n.n(Q),tt=n(67),et=n.n(tt),nt=n(104),rt=n.n(nt),it=n(159),ot=n.n(it);function at(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return st(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return st(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lt=function(){function t(){c()(this,t)}return h()(t,null,[{key:"observe",value:function(t,e,n){if("object"!==L()(t)||null===t)throw new Error("Invalid argument: invalid object");if("function"==typeof n)this.observeProperty(t,e,n);else{if("function"!=typeof e)throw new Error("Invalid argument for observe");this.observeRecursive(t,e)}}},{key:"notify",value:function(t,e){var n,r=at(t);try{var i=function(){var t=n.value;ot()(rt.a.mark((function n(){return rt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(e);case 2:case"end":return n.stop()}}),n)})))()};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}}},{key:"forceUpdate",value:function(t,e){var n=t._values[e],r=t._observers[e];this.notify(r,n)}},{key:"isObserved",value:function(t,e,n){if("object"!==L()(t)||null===t||!t.hasOwnProperty(e))return!1;var r=!!(t._observers&&t._observers[e]&&t._observers[e].size>0);return r&&n?t._observers[e].has(n):r}},{key:"setSilently",value:function(t,e,n){if(!t.hasOwnProperty(e))throw new Error('Invalid argument: object does not have property "'.concat(e,'"'));if(this.isObserved(t,e)){if(t._values[e]=n,O()(t[e])){var r,i=at(t._observers[e]);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.observeArray(t[e],o)}}catch(t){i.e(t)}finally{i.f()}}}else t[e]=n}},{key:"observeProperty",value:function(e,n,r){var o=this;if(!e.hasOwnProperty(n))throw new Error('Invalid argument: object does not have property "'.concat(n,'"'));if(this.isObserved(e,n,r))throw new Error("Observer already registered for property ".concat(n));this.addObserver(e,r,n),e.hasOwnProperty("_values")||et()(e,"_values",{enumerable:!1,configurable:!1,value:{}}),e._values[n]=e[n],et()(e,n,{get:function(){return e._values[n]},set:function(r){var a;e._values[n]!==r&&(e._values[n]=r,"".concat(n," = "),O()(r)&&r.length&&i()(a="[".concat(r[0],", …](")).call(a,r.length,")"),t.notify(e._observers[n],r));O()(e[n])&&o.observeArray(e[n],e._observers[n])}}),O()(e[n])&&this.observeArray(e[n],r)}},{key:"observeRecursive",value:function(e,n){if(O()(e))this.observeArray(e,n);else for(var r in e)e.hasOwnProperty(r)&&t.observeProperty(e,r,n)}},{key:"observeArray",value:function(t,e){if(e instanceof K.a){var n,r=at(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.addObserver(t,i)}}catch(t){r.e(t)}finally{r.f()}}else this.addObserver(t,e);this.overrideArrayPrototypes(t,arguments)}},{key:"addObserver",value:function(t,e,n){t.hasOwnProperty("_observers")||et()(t,"_observers",{enumerable:!1,configurable:!1,value:3===arguments.length?[]:new K.a}),3===arguments.length?(t._observers[n]||(t._observers[n]=new K.a),t._observers[n].add(e)):t._observers.add(e)}},{key:"unobserve",value:function(t,e,n){if("function"==typeof n)this.unobserveProperty(t,e,n);else{if("function"!=typeof e)throw new Error("Invalid argument for unobserve");O()(t)?this.unobserveArray(t,e):this.unobserveRecursive(t,e)}}},{key:"unobserveAll",value:function(t,e){if(1===arguments.length)for(var n in t)t.hasOwnProperty(n)&&this.unobserveAll(t,n);else if(this.isObserved(t,e)){if("Removing all observers for ".concat(e,"…"),O()(t[e]))this.restoreArrayPrototypes(t[e]);else if("object"===L()(t[e])&&null!==t[e])for(var r in t[e])t[e].hasOwnProperty(r)&&this.unobserveAll(t[e],r);delete t._observers[e],delete t[e],t[e]=t._values[e],delete t._values[e]}}},{key:"unobserveProperty",value:function(t,e,n){O()(t[e])&&this.unobserveArray(t[e],n),this.removeObserver(t,n,e),t._observers[e].size||(delete t[e],t[e]=t._values[e],delete t._values[e])}},{key:"unobserveRecursive",value:function(e,n){for(var r in e)e.hasOwnProperty(r)&&t.unobserveProperty(e,r,n)}},{key:"unobserveArray",value:function(t,e){this.removeObserver(t,e),t._observers.size||this.restoreArrayPrototypes(t)}},{key:"overrideArrayPrototypes",value:function(e){var n;$()(n=["pop","push","reverse","shift","sort","splice","unshift"]).call(n,(function(n){var r=W()(Array.prototype,n);e.hasOwnProperty(n)||(r.value=function(){var r,o=Array.prototype[n].apply(e,arguments);return"[".concat(n,"] "),e.length&&i()(r="[".concat(e[0],", …](")).call(r,e.length,")"),t.notify(e._observers,e),o},et()(e,n,r))}))}},{key:"restoreArrayPrototypes",value:function(t){var e;$()(e=["pop","push","reverse","shift","sort","splice","unshift"]).call(e,(function(e){delete t[e]}))}},{key:"removeObserver",value:function(t,e,n){if(t.hasOwnProperty("_observers")){var r;if(3===arguments.length){if(!t._observers[n])return;r=t._observers[n],"Removing observer for ".concat(n,"…")}else r=t._observers;$()(r).call(r,(function(t){t===e&&r.delete(t)}))}}}]),t}();function ut(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return ct(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ct(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ft=function(){function t(e,n,r){if(c()(this,t),!(e instanceof HTMLSelectElement))throw new Error("Invalid argument for select");this.element=e,this.hasAllOption=!1,this.allText="",r&&r.length&&(this.allText=r),n&&n.length?this.head=n:(this.hasHead=!1,this.headText="")}return h()(t,[{key:"showAllOption",value:function(e){e&&(this.allText=e),this.hasAllOption=!0;var n=this.hasHead?1:0;this.element.add(new Option(this.allText,t.allValue),n)}},{key:"hideAllOption",value:function(){var e=this.selected===t.allValue;this.hasAllOption=!1,this.remove(t.allValue),e&&(this.selected=this.hasHead?t.headValue:"",this.element.dispatchEvent(new Event("change")))}},{key:"addHead",value:function(){var e=new Option(this.headText,t.headValue,!0,!0);e.disabled=!0,this.element.options.add(e,0)}},{key:"hasValue",value:function(t){return void 0!==this.getOption(t)}},{key:"getOption",value:function(t){var e;return Y()(e=G()(this.element.options)).call(e,(function(e){return e.value===t}))}},{key:"remove",value:function(t){var e=this.getOption(t);e&&this.element.remove(e.index)}},{key:"setOptions",value:function(e,n){var r=this;n=n||this.element.value,this.element.options.length=0,this.hasHead&&this.addHead(),this.hasAllOption&&this.element.add(new Option(this.allText,t.allValue,!1,n===t.allValue));var i,o=ut(e);try{var a=function(){var t=i.value,e=new Option(t.listText,t.listValue,!1,n===t.listValue);r.element.add(e),lt.observe(t,"listText",(function(t){e.text=t}))};for(o.s();!(i=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}}},{key:"selected",set:function(t){this.hasValue(t)&&(this.element.value=t)},get:function(){return this.element.value}},{key:"head",set:function(t){t.length&&(this.hasHead=!0,this.headText=t,this.addHead())},get:function(){return this.headText}}],[{key:"allValue",get:function(){return"all"}},{key:"headValue",get:function(){return"0"}}]),t}(),ht=function(){function t(){c()(this,t),this.listValue=ft.allValue,this.listText="-"}return h()(t,[{key:"listItem",value:function(t,e){this.listValue=String(t),this.listText=String(e)}},{key:"toString",value:function(){var t;return i()(t="[".concat(this.listValue,", ")).call(t,this.listText,"]")}}]),t}(),dt=n(160),pt=n.n(dt),vt=n(80),mt=n.n(vt),yt=n(161),gt=n.n(yt),bt=n(48),xt=n.n(bt),wt=n(81),kt=n.n(wt),St=n(35),Et=n.n(St),At=n(2),Lt=n.n(At),Mt=function(){function t(){c()(this,t)}return h()(t,null,[{key:"setCookie",value:function(t,e){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,a="";if(o){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3),a="; expires=".concat(s.toUTCString())}document.cookie=i()(n=i()(r="ulogger_".concat(t,"=")).call(r,e)).call(n,a,"; path=/; samesite=lax")}},{key:"sprintf",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,a=t.replace(/%%|%s|%d/g,(function(t){if("%%"===t)return"%";var e;if("%d"===t&&isNaN(n[o])&&void 0!==n[o])throw new Error(i()(e="Wrong format specifier ".concat(t," for ")).call(e,n[o]," argument"));if(void 0===n[o])throw new Error("Missing argument for format specifier ".concat(t));return n[o++]}));if(o<n.length)throw new Error("Unused argument for format specifier ".concat(t));return a}},{key:"addScript",value:function(t,e,n,r){if(e&&document.getElementById(e))n instanceof Function&&n();else{var i=document.createElement("script");i.type="text/javascript",i.src=t,e&&(i.id=e),i.async=!0,n instanceof Function&&(i.onload=n),r instanceof Function&&(i.onerror=function(){return r(new Error("error loading ".concat(e," script")))}),document.getElementsByTagName("head")[0].appendChild(i)}}},{key:"loadScript",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,i=new a.a((function(r,i){return t.addScript(e,n,r,i)})),o=this.timeoutPromise(r);return a.a.race([i,o])}},{key:"timeoutPromise",value:function(t){return new a.a((function(e,n){var r=l()((function(){clearTimeout(r),n(new Error("timeout (".concat(t," ms).")))}),t)}))}},{key:"htmlEncode",value:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},{key:"hexToRGBA",value:function(t,e){var n,r;return e=void 0!==e?e:1,"rgba(".concat(i()(n=Lt()(r=(t=t.replace("#","")).match(new RegExp("(.{".concat(t.length/3,"})"),"g"))).call(r,(function(e){return Et()(t.length%2?e+e:e,16)}))).call(n,e).join(","),")")}},{key:"getScaleColor",value:function(t,e,n){var r,o;if(n<0||n>1)throw new Error("Invalid value");for(var a=[],s=0;s<3;s++){if(t[s]<0||t[s]>255||e[s]<0||e[s]>255)throw new Error("Invalid value");a[s]=Math.round((e[s]-t[s])*n+t[s])}return i()(r=i()(o="rgb(".concat(a[0],", ")).call(o,a[1],", ")).call(r,a[2],")")}},{key:"addCss",value:function(t,e){if(!e||!document.getElementById(e)){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=t,e&&(n.id=e),document.getElementsByTagName("head")[0].appendChild(n)}}},{key:"removeElementById",value:function(t){var e=document.getElementById(t);e&&e.remove()}},{key:"nodeFromHtml",value:function(t){var e=document.createElement("template");return e.innerHTML=kt()(t).call(t),e.content.childNodes.length>1?e.content.childNodes:e.content.firstChild}},{key:"getFloat",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.getParsed(e,n,"float")}},{key:"getInteger",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.getParsed(e,n,"int")}},{key:"getString",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.getParsed(e,n,"string")}},{key:"getParsed",value:function(t,e,n){if(e&&null===t)return null;var r;switch(n){case"float":r=xt()(t);break;case"int":r=Math.round(xt()(t));break;case"string":r=String(t);break;default:throw new Error("Unknown type")}if(null==t||"string"!==n&&isNaN(r))throw new Error("Invalid value");return r}},{key:"getTimeString",value:function(t){var e,n,r,o,a="";return{date:i()(e=i()(n="".concat(t.getFullYear(),"-")).call(n,k()(r="0".concat(t.getMonth()+1)).call(r,-2),"-")).call(e,k()(o="0".concat(t.getDate())).call(o,-2)),time:t.toTimeString().replace(/^\s*([^ ]+)([^(]*)(\([^)]*\))*/,(function(t,e,n,r){return n&&(a=n.replace(/(0(?=[1-9]00))|(00\b)/g,""),r&&/[A-Z]/.test(r)&&(a+=r.match(/\b[A-Z]+/g).join(""))),e})),zone:a}}},{key:"openUrl",value:function(t){window.location.assign(t)}},{key:"deg2rad",value:function(t){return t*Math.PI/180}},{key:"isDeepEqual",value:function(t,e){var n,r=this;return gt()(n=mt()(t)).call(n,(function(n){return"object"===L()(t[n])&&null!==t[n]&&"object"===L()(e[n])&&null!==e[n]?r.isDeepEqual(t[n],e[n]):t[n]===e[n]}))}}]),t}(),Ot=function(){function t(){c()(this,t)}return h()(t,[{key:"hasComment",value:function(){return null!=this.comment&&this.comment.length>0}},{key:"hasImage",value:function(){return null!=this.image&&this.image.length>0}},{key:"hasSpeed",value:function(){return null!=this.speed}},{key:"hasAltitude",value:function(){return null!=this.altitude}},{key:"getImagePath",value:function(){return this.hasImage()?"uploads/".concat(this.image):null}},{key:"delete",value:function(){return t.update({action:"delete",posid:this.id})}},{key:"save",value:function(){return t.update({action:"update",posid:this.id,comment:this.comment})}},{key:"imageDelete",value:function(){var e=this;return t.update({action:"imagedel",posid:this.id}).then((function(){e.image=null}))}},{key:"imageAdd",value:function(e){var n=this,r=new FormData;return r.append("image",e),r.append("action","imageadd"),r.append("posid",this.id),t.update(r).then((function(t){n.image=t.image}))}},{key:"distanceTo",value:function(t){var e=Mt.deg2rad(this.latitude),n=Mt.deg2rad(this.longitude),r=Mt.deg2rad(t.latitude),i=r-e,o=Mt.deg2rad(t.longitude)-n;return 6371e3*(2*Math.asin(Math.sqrt(Math.pow(Math.sin(i/2),2)+Math.cos(e)*Math.cos(r)*Math.pow(Math.sin(o/2),2))))}},{key:"secondsTo",value:function(t){return this.timestamp-t.timestamp}},{key:"totalSpeed",get:function(){return this.totalSeconds?this.totalMeters/this.totalSeconds:0}}],[{key:"fromJson",value:function(e){var n=new t;return n.id=Mt.getInteger(e.id),n.latitude=Mt.getFloat(e.latitude),n.longitude=Mt.getFloat(e.longitude),n.altitude=Mt.getInteger(e.altitude,!0),n.speed=Mt.getFloat(e.speed,!0),n.bearing=Mt.getInteger(e.bearing,!0),n.accuracy=Mt.getInteger(e.accuracy,!0),n.provider=Mt.getString(e.provider,!0),n.comment=Mt.getString(e.comment,!0),n.image=Mt.getString(e.image,!0),n.username=Mt.getString(e.username),n.trackname=Mt.getString(e.trackname),n.trackid=Mt.getInteger(e.trackid),n.timestamp=Mt.getInteger(e.timestamp),n.meters=Mt.getInteger(e.meters),n.seconds=Mt.getInteger(e.seconds),n.totalMeters=0,n.totalSeconds=0,n}},{key:"update",value:function(t){return I.post("utils/handleposition.php",t)}}]),t}();function Pt(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return _t(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _t(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Tt=function(t){R()(n,t);var e=Ct(n);function n(){var t;return c()(this,n),(t=e.call(this)).positions=[],t}return h()(n,[{key:"clear",value:function(){this.positions.length=0}},{key:"isLastPosition",value:function(t){return!0}},{key:"isFirstPosition",value:function(t){return!0}},{key:"fromJson",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];e?n=this.positions:this.clear();var r,i=Pt(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push(Ot.fromJson(o))}}catch(t){i.e(t)}finally{i.f()}this.positions=n}},{key:"fetchLatest",value:function(){var t=this;return this.clear(),n.fetch({last:!0}).then((function(e){t.fromJson(e)}))}},{key:"length",get:function(){return this.positions.length}},{key:"hasPositions",get:function(){return this.positions.length>0}}],[{key:"fetchLatest",value:function(){var t=new n;return t.fetchLatest().then((function(){return t.length?t:null}))}},{key:"fetch",value:function(t){return I.get("utils/getpositions.php",t)}}]),n}(ht);function It(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return jt(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Ut=function(t){R()(n,t);var e=Dt(n);function n(t,r,i){var o;if(c()(this,n),o=e.call(this),!z()(t)||t<=0||!r||!(i instanceof Vt))throw new Error("Invalid argument for track constructor");return o.id=t,o.name=r,o.user=i,o.plotData=[],o.maxId=0,o.maxSpeed=0,o.maxAltitude=null,o.minAltitude=null,o.totalMeters=0,o.totalSeconds=0,o.listItem(t,r),o}return h()(n,[{key:"setName",value:function(t){this.name=t,this.listText=t}},{key:"clear",value:function(){pt()(H()(n.prototype),"clear",this).call(this),this.clearTrackCounters()}},{key:"clearTrackCounters",value:function(){this.maxId=0,this.maxSpeed=0,this.maxAltitude=null,this.minAltitude=null,this.plotData.length=0,this.totalMeters=0,this.totalSeconds=0}},{key:"isEqualTo",value:function(t){return!!t&&t.id===this.id}},{key:"fromJson",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];e&&this.hasPositions?n=this.positions:this.clear();var r,i=It(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=Ot.fromJson(o);this.calculatePosition(a),n.push(a)}}catch(t){i.e(t)}finally{i.f()}this.positions=n}},{key:"isLastPosition",value:function(t){return this.length>0&&t===this.length-1}},{key:"isFirstPosition",value:function(t){return this.length>0&&0===t}},{key:"fetchPositions",value:function(){var t=this,e={userid:this.user.id,trackid:this.id};return this.maxId&&(e.afterid=this.maxId),Tt.fetch(e).then((function(n){t.fromJson(n,e.afterid>0)}))}},{key:"export",value:function(t){if(this.hasPositions){var e,n,r=i()(e=i()(n="utils/export.php?type=".concat(t,"&userid=")).call(n,this.user.id,"&trackid=")).call(e,this.id);Mt.openUrl(r)}}},{key:"delete",value:function(){return n.update({action:"delete",trackid:this.id})}},{key:"saveMeta",value:function(){return n.update({action:"update",trackid:this.id,trackname:this.name})}},{key:"recalculatePositions",value:function(){this.clearTrackCounters();var t,e=null,n=It(this.positions);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.meters=e?r.distanceTo(e):0,r.seconds=e?r.secondsTo(e):0,this.calculatePosition(r),e=r}}catch(t){n.e(t)}finally{n.f()}}},{key:"calculatePosition",value:function(t){this.totalMeters+=t.meters,this.totalSeconds+=t.seconds,t.totalMeters=this.totalMeters,t.totalSeconds=this.totalSeconds,t.hasAltitude()&&(this.plotData.push({x:t.totalMeters,y:t.altitude}),(null===this.maxAltitude||t.altitude>this.maxAltitude)&&(this.maxAltitude=t.altitude),(null===this.minAltitude||t.altitude<this.minAltitude)&&(this.minAltitude=t.altitude)),t.id>this.maxId&&(this.maxId=t.id),t.hasSpeed()&&t.speed>this.maxSpeed&&(this.maxSpeed=t.speed)}},{key:"hasPlotData",get:function(){return this.plotData.length>0}},{key:"hasAltitudes",get:function(){return null!==this.maxAltitude}},{key:"hasSpeeds",get:function(){return this.maxSpeed>0}}],[{key:"fetchLatest",value:function(t){return this.fetch({last:!0,userid:t.id}).then((function(e){if(e.length){var r=new n(e[0].trackid,e[0].trackname,t);return r.fromJson(e),r}return null}))}},{key:"fetchList",value:function(t){return I.get("utils/gettracks.php",{userid:t.id}).then((function(e){var r,i=[],o=It(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(new n(a.id,a.name,t))}}catch(t){o.e(t)}finally{o.f()}return i}))}},{key:"import",value:function(t,e){return I.post("utils/import.php",t).then((function(t){var r,i=[],o=It(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(new n(a.id,a.name,e))}}catch(t){o.e(t)}finally{o.f()}return i}))}},{key:"getMeta",value:function(t){return n.update({action:"getmeta",trackid:t})}},{key:"update",value:function(t){return I.post("utils/handletrack.php",t)}}]),n}(Tt);function zt(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Nt(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Vt=function(t){R()(n,t);var e=Rt(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(c()(this,n),i=e.call(this),!z()(t)||t<=0)throw new Error("Invalid argument for user constructor");return i.id=t,i.login=r,i.isAdmin=o,i.listItem(t,r),i}return h()(n,[{key:"isEqualTo",value:function(t){return!!t&&t.id===this.id}},{key:"fetchLastPosition",value:function(){return Ut.fetchLatest(this)}},{key:"delete",value:function(){return n.update({action:"delete",login:this.login})}},{key:"setPassword",value:function(t,e){return I.post("utils/changepass.php",{login:this.login,pass:t,oldpass:e})}},{key:"modify",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i={action:"update",login:this.login,admin:t};return r&&(i.pass=r),n.update(i).then((function(){e.isAdmin=t}))}}],[{key:"fetchList",value:function(){return I.get("utils/getusers.php").then((function(t){var e,r=[],i=zt(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;r.push(new n(o.id,o.login,o.isAdmin))}}catch(t){i.e(t)}finally{i.f()}return r}))}},{key:"add",value:function(t,e){return n.update({action:"add",login:t,pass:e}).then((function(e){return new n(e.id,t)}))}},{key:"update",value:function(t){return I.post("utils/handleuser.php",t)}}]),n}(ht),Bt=function(){function t(){c()(this,t),this._isAdmin=!1,this._isAuthenticated=!1,this._user=null}return h()(t,[{key:"load",value:function(t){t&&t.isAuthenticated&&(this.user=new Vt(t.userId,t.userLogin),this.isAdmin=t.isAdmin)}},{key:"user",set:function(t){t?(this._user=t,this._isAuthenticated=!0):(this._user=null,this._isAuthenticated=!1,this._isAdmin=!1)},get:function(){return this._user}},{key:"isAdmin",set:function(t){if(!this._user)throw new Error("No authenticated user");this._isAdmin=t},get:function(){return this._isAdmin}},{key:"isAuthenticated",get:function(){return this._isAuthenticated}}]),t}(),Ft=n(162),Ht=n.n(Ft),qt=n(163),Gt=n.n(qt),Xt=n(33),Yt=n.n(Xt),Zt=n(58),Wt=n.n(Zt),Jt=n(164),$t=n.n(Jt);function Qt(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Kt=function(t){R()(n,t);var e=Qt(n);function n(t,r,i,o){var a;return c()(this,n),(a=e.call(this)).id=t,a.name=r,a.url=i,a.priority=o,a.listItem(t,r),a}return h()(n,[{key:"setName",value:function(t){this.name=t,this.listItem(this.id,this.name)}},{key:"setUrl",value:function(t){this.url=t}}]),n}(ht);function te(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return ee(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ne(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var re=function(t){R()(n,t);var e=ne(n);function n(){return c()(this,n),e.apply(this,arguments)}return h()(n,[{key:"addNewLayer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.addLayer(this.getMaxId()+1,t,e,n)}},{key:"addLayer",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.push(new Kt(t,e,n,r))}},{key:"delete",value:function(t){var e,n=Wt()(e=Lt()(this).call(this,(function(t){return t.id}))).call(e,t);Yt()(this).call(this,n,1)}},{key:"get",value:function(t){return Y()(this).call(this,(function(e){return e.id===t}))}},{key:"getMaxId",value:function(){var t;return Math.max.apply(Math,i()(t=G()(Lt()(this).call(this,(function(t){return t.id})))).call(t,[0]))}},{key:"setPriorityLayer",value:function(t){var e,n=te(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.id>0&&r.id===t?r.priority=1:r.priority=0}}catch(t){n.e(t)}finally{n.f()}}},{key:"getPriorityLayer",value:function(){var t,e=te(this);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.priority>0)return n.id}}catch(t){e.e(t)}finally{e.f()}return 0}},{key:"load",value:function(t){this.length=0;var e,n=te(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.id>0&&this.addLayer(r.id,r.name,r.url,r.priority)}}catch(t){n.e(t)}finally{n.f()}}}]),n}($t()(Array)),ie=function(){function t(){c()(this,t),this.initialize()}return h()(t,[{key:"initialize",value:function(){this.interval=10,this.units="metric",this.lang="en",this.mapApi="openlayers",this.googleKey="",this.olLayers=new re,this.initLatitude=52.23,this.initLongitude=21.01,this.requireAuth=!0,this.publicTracks=!1,this.passStrength=2,this.passLenMin=10,this.strokeWeight=2,this.strokeColor="#ff0000",this.strokeOpacity=1,this.colorNormal="#ffffff",this.colorStart="#55b500",this.colorStop="#ff6a00",this.colorExtra="#cccccc",this.colorHilite="#feff6a",this.uploadMaxSize=0,this.initUnits()}},{key:"initUnits",value:function(){"imperial"===this.units?(this.factorSpeed=2.237,this.unitSpeed="unitmph",this.factorDistance=3.28,this.unitDistance="unitft",this.factorDistanceMajor=.621,this.unitDistanceMajor="unitmi"):"nautical"===this.units?(this.factorSpeed=1.944,this.unitSpeed="unitkt",this.factorDistance=1,this.unitDistance="unitm",this.factorDistanceMajor=.54,this.unitDistanceMajor="unitnm"):(this.factorSpeed=3.6,this.unitSpeed="unitkmh",this.factorDistance=1,this.unitDistance="unitm",this.factorDistanceMajor=1,this.unitDistanceMajor="unitkm"),this.unitDay="unitday",this.unitAltitude="unitamsl"}},{key:"load",value:function(t){if(t){for(var e in t)"layers"===e?this.olLayers.load(t[e]):t.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=t[e]);this.initUnits()}}},{key:"save",value:function(t){var e,n,r=this;return this.load(t),t=Gt()(e=Ht()(n=mt()(this)).call(n,(function(t){return"function"!=typeof r[t]}))).call(e,(function(t,e){return t[e]=r[e],t}),{}),I.post("utils/saveconfig.php",t)}},{key:"reinitialize",value:function(){lt.unobserveAll(this),this.initialize()}},{key:"onChanged",value:function(t,e){lt.observe(this,t,e)}},{key:"validPassStrength",value:function(t){return this.getPassRegExp().test(t)}},{key:"getPassRegExp",value:function(){var t="";return this.passStrength>0&&(t+="(?=.*[a-z])(?=.*[A-Z])"),this.passStrength>1&&(t+="(?=.*[0-9])"),this.passStrength>2&&(t+="(?=.*[^a-zA-Z0-9])"),this.passLenMin>0&&(t+="(?=.{".concat(this.passLenMin,",})")),0===t.length&&(t=".*"),new RegExp(t)}}]),t}(),oe=n(165),ae=n.n(oe),se=n(166),le=n.n(se),ue=function(){function t(){c()(this,t),this.strings={},this.config=null}return h()(t,[{key:"init",value:function(t,e){this.config=t,e&&(this.strings=e)}},{key:"_",value:function(t){if(void 0===this.strings[t])throw new Error("Unknown localized string");for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o;return n.length?Mt.sprintf.apply(Mt,i()(o=[this.strings[t]]).call(o,n)):this.strings[t]}},{key:"unit",value:function(t){var e=this.config[t];if(void 0===this.config[t])throw new Error("Unknown localized unit");return this._(e)}},{key:"getLocaleSpeed",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.round(t*this.config.factorSpeed*100)/100,r=n.toLocaleString(this.config.lang);return e&&(r+=" ".concat(this.unit("unitSpeed"))),r}},{key:"getLocaleDistanceMajor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.round(t*this.config.factorDistanceMajor/10)/100,r=n.toLocaleString(this.config.lang);return e&&(r+=" ".concat(this.unit("unitDistanceMajor"))),r}},{key:"getLocaleDistance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.round(t*this.config.factorDistance*100)/100,r=n.toLocaleString(this.config.lang);return e&&(r+=" ".concat(this.unit("unitDistance"))),r}},{key:"getLocaleAltitude",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getLocaleDistance(t,e);return e&&(n+=" ".concat(this.unit("unitAltitude"))),n.replace("-","−")}},{key:"getLocaleAccuracy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getLocaleDistance(t,e)}},{key:"getLocaleDuration",value:function(t){var e,n,r,o,a=Math.floor(t/86400),s=Math.floor(t%86400/3600),l=Math.floor(t%86400%3600/60);return t=t%86400%3600%60,(a>0?i()(e="".concat(a," ")).call(e,this.unit("unitDay")," "):"")+k()(n="00".concat(s)).call(n,-2)+":"+k()(r="00".concat(l)).call(r,-2)+":"+k()(o="00".concat(t)).call(o,-2)}},{key:"getLocaleCoordinates",value:function(t){var e;return i()(e="".concat(this.coordStr(t.longitude,!0)," ")).call(e,this.coordStr(t.latitude,!1))}},{key:"coordStr",value:function(t,e){var n,r,o,a=le()(t),s=Math.round(100*(Math.abs(60*(t-a))+ae.a))/100;return o=e?t<0?"W":"E":t<0?"S":"N",i()(n=i()(r="".concat(Math.abs(a).toLocaleString(this.config.lang),"°")).call(r,s.toLocaleString(this.config.lang,{maximumFractionDigits:2}),"'")).call(n,o)}},{key:"getLocalePassRules",value:function(){var t="";return this.config.passLenMin>0&&(t=Mt.sprintf(this._("passlenmin")+"\n",this.config.passLenMin)),this.config.passStrength>0&&this.config.passStrength<4&&(t+=this._("passrules_".concat(this.config.passStrength))),t}},{key:"getLangList",value:function(){return this.strings.langArr||{}}}]),t}(),ce=function(){function t(){c()(this,t),this.auth=new Bt,this.config=new ie,this.lang=new ue}return h()(t,[{key:"initialize",value:function(){var t=this;return I.get("utils/getinit.php").then((function(e){if(!(e&&e.auth&&e.config&&e.lang))throw new Error("Corrupted initialization data");t.auth.load(e.auth),t.config.load(e.config),t.lang.init(t.config,e.lang)}))}}],[{key:"waitForDom",value:function(){return new a.a((function(t){"complete"===document.readyState||"interactive"===document.readyState?l()(t,1):document.addEventListener("DOMContentLoaded",t)}))}}]),t}(),fe=new ce,he=fe.config,de=fe.lang,pe=fe.auth,ve=n(82),me=n.n(ve),ye=n(105),ge=n.n(ye),be=function(){function t(e){c()(this,t),this._model=e,this.root=document}return h()(t,[{key:"bindAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;for(var e in this.root=t,this._model){var n;if(this._model.hasOwnProperty(e))ge()(n=this).call(n,e)}}},{key:"bind",value:function(t){var e=this,n=this.root.querySelectorAll("[data-".concat("bind","]"));$()(n).call(n,(function(n){ge()(n.dataset)===t&&(n instanceof HTMLInputElement||n instanceof HTMLSelectElement||n instanceof HTMLTextAreaElement?e.onChangeBind(n,t):n instanceof HTMLAnchorElement||n instanceof HTMLButtonElement?e.onClickBind(n,t):e.viewUpdateBind(n,t))}))}},{key:"onClickBind",value:function(t,e){var n=this;t.addEventListener("click",(function(t){if("function"!=typeof n._model[e])throw new Error("Property ".concat(e," is not a callback"));n._model[e](t),t.preventDefault()}))}},{key:"onChangeBind",value:function(t,e){var n=this,r="value",i=function(t){return t};"checkbox"===t.type&&(r="checked",i=function(t){return!!t}),t.addEventListener("change",(function(){n._model[e]=t[r]})),lt.observe(this.model,e,(function(e){e=i(e),t[r]!==e&&(t[r]=e)}))}},{key:"viewUpdateBind",value:function(t,e){lt.observe(this.model,e,(function(e){t.innerHTML!==e&&(t.innerHTML=e)}))}},{key:"onChanged",value:function(t,e){lt.observe(this.model,t,e)}},{key:"unsubscribe",value:function(t,e){lt.unobserve(this.model,t,e)}},{key:"getBoundElement",value:function(t){return this.root.querySelector("[data-bind='".concat(t,"']"))}},{key:"model",get:function(){return this._model}}]),t}(),xe=n(167),we=n.n(xe);function ke(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Se=1e3,Ee=function(t){R()(n,t);var e=ke(n);function n(t){var r;return c()(this,n),(r=e.call(this,{pointSelected:null,chartVisible:!1,buttonVisible:!1,onChartToggle:null,onMenuToggle:null})).state=t,r.data=[],r.chart=null,r.chartPoints=null,r.chartElement=document.querySelector("#chart"),r.chartContainer=r.chartElement.parentElement,r.buttonElement=document.querySelector("#altitudes"),r}return h()(n,[{key:"init",value:function(){return this.chartSetup(),this.setObservers(),this.bindAll(),this}},{key:"chartSetup",value:function(){var t,e,n=this;Mt.addCss("css/dist/chartist.css","chartist_css"),this.chart=new me.a.Line(this.chartElement,{series:[this.data]},{lineSmooth:!0,showArea:!0,axisX:{type:me.a.AutoScaleAxis,onlyInteger:!0,showLabel:!1},plugins:[we()({axisY:{axisTitle:i()(t=i()(e="".concat(de._("altitude")," (")).call(e,de.unit("unitDistance")," ")).call(t,de.unit("unitAltitude"),")"),axisClass:"ct-axis-title",offset:{x:0,y:11},textAnchor:"middle",flipTitle:!0}})]}),this.chart.on("created",(function(){return n.onCreated()}))}},{key:"onCreated",value:function(){var t=this;if(this.data.length&&this.data.length<=Se){this.chartPoints=document.querySelectorAll(".ct-series .ct-point");for(var e=this.chartPoints.length,n=function(e){t.chartPoints[e].addEventListener("click",(function(){t.model.pointSelected=e}))},r=0;r<e;r++)n(r)}}},{key:"setObservers",value:function(){var t=this;this.state.onChanged("currentTrack",(function(e){e&&lt.observe(e,"positions",(function(){t.onTrackUpdate(e,!0)})),t.onTrackUpdate(e)})),this.onChanged("buttonVisible",(function(e){return t.renderButton(e)})),this.onChanged("chartVisible",(function(e){return t.renderContainer(e)})),this.model.onChartToggle=function(){t.model.chartVisible=!t.model.chartVisible},this.model.onMenuToggle=function(){t.model.chartVisible&&t.chart.update()}}},{key:"onTrackUpdate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.render(t,e),this.model.buttonVisible=!!t&&t.hasPlotData}},{key:"renderContainer",value:function(t){t?(this.chartContainer.style.display="block",this.render(this.state.currentTrack)):this.chartContainer.style.display="none"}},{key:"renderButton",value:function(t){t?this.buttonElement.classList.remove("menu-hidden"):this.buttonElement.classList.add("menu-hidden")}},{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(t&&t.hasPlotData&&this.model.chartVisible?n=t.plotData:this.model.chartVisible=!1,e||this.data!==n){var r;i()(r="Chart".concat(e?" forced":""," update (")).call(r,n.length,")"),this.data=n;var o={lineSmooth:n.length<=Se};this.chart.update({series:[n]},o,!0)}}},{key:"pointAddClass",value:function(t,e){this.model.chartVisible&&this.chartPoints.length>t&&this.chartPoints[t].classList.add(e)}},{key:"pointsRemoveClass",value:function(t){var e;this.model.chartVisible&&this.chartPoints&&$()(e=this.chartPoints).call(e,(function(e){return e.classList.remove(t)}))}},{key:"onPointOver",value:function(t){this.pointAddClass(t,"ct-point-hilight")}},{key:"onPointOut",value:function(){this.pointsRemoveClass("ct-point-hilight")}},{key:"onPointSelect",value:function(t){this.pointAddClass(t,"ct-point-selected")}},{key:"onPointUnselect",value:function(){this.pointsRemoveClass("ct-point-selected")}}]),n}(be),Ae=n(168),Le=n.n(Ae),Me=n(169),Oe=n.n(Me),Pe=n(103),_e=n.n(Pe),Ce=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c()(this,t),this.autoClose=r.autoClose||0,this.hasButton=void 0!==r.hasButton?r.hasButton:0===this.autoClose,this.fixedPosition=r.fixed||!1;var i='<div class="alert"><span>'.concat(e,"</span></div>");if(this.box=Mt.nodeFromHtml(i),r.id&&(this.box.id=r.id),r.class&&this.box.classList.add(r.class),this.hasButton){var o=document.createElement("button");o.setAttribute("type","button"),o.textContent="×",o.onclick=function(){return n.destroy()},this.box.appendChild(o)}this.closeHandle=null}return h()(t,[{key:"render",value:function(){var e=this;if(!this.fixedPosition){var n=t.getPosition();n&&(this.box.style.top="".concat(n,"px"))}document.body.appendChild(this.box),l()((function(){e.box&&e.box.classList.add("in")}),50)}},{key:"destroy",value:function(){if(this.closeHandle&&(clearTimeout(this.closeHandle),this.closeHandle=null),this.box&&document.body.contains(this.box)){var t=this.box;requestAnimationFrame((function(){t.classList.add("out"),l()((function(){t.remove()}),1e3)})),this.box=null}}}],[{key:"getPosition",value:function(){var t=document.querySelectorAll(".alert"),e=t[t.length-1],n=0;if(e){var r=document.body.clientHeight-100;(n=e.getBoundingClientRect().bottom)>r&&(n=r)}return n}},{key:"show",value:function(e,n){var r=new t(e,n);return r.render(),r.autoClose&&(r.closeHandle=l()((function(){return r.destroy()}),r.autoClose)),r}},{key:"error",value:function(t,e){var n,r;e instanceof Error&&console.error(i()(n=i()(r="".concat(e.name,": ")).call(r,e.message," (")).call(n,e.stack,")"));return this.show(t,{class:"error"})}},{key:"toast",value:function(t){return this.show(t,{class:"toast",autoClose:1e4})}},{key:"spinner",value:function(){return this.show("",{class:"spinner",hasButton:!1,fixed:!0})}}]),t}();function Te(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ie(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var je=function(){function t(e){c()(this,t);var n=document.createElement("div");n.setAttribute("id","modal");var r=document.createElement("div");r.setAttribute("id","modal-header");var i=document.createElement("button");i.setAttribute("id","modal-close"),i.setAttribute("type","button"),i.setAttribute("class","button-reject"),i.setAttribute("data-bind","onCancel");var o=document.createElement("img");o.setAttribute("src","images/close.svg"),o.setAttribute("alt",de._("close")),i.append(o),r.append(i);var a=document.createElement("div");if(a.setAttribute("id","modal-body"),"string"==typeof e)a.innerHTML=e;else if(e instanceof NodeList||e instanceof Array){var s,l=Te(e);try{for(l.s();!(s=l.n()).done;){var u=s.value;a.append(u)}}catch(t){l.e(t)}finally{l.f()}}else a.append(e);a.prepend(r),n.append(a),this.element=n,this.visible=!1}return h()(t,[{key:"show",value:function(){this.visible||(document.body.append(this.element),this.visible=!0,this.autofocus())}},{key:"autofocus",value:function(){var t=this.element.querySelector("[autofocus]");t&&t.focus()}},{key:"destroy",value:function(){document.body.removeChild(this.element),this.visible=!1}}],[{key:"isConfirmed",value:function(t){return confirm(t)}}]),t}();function De(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ue(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ze(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Ne=function(t){R()(n,t);var e=ze(n);function n(){var t,r;return c()(this,n),(r=e.call(this,{colorExtra:he.colorExtra,colorHilite:he.colorHilite,colorNormal:he.colorNormal,colorStart:he.colorStart,colorStop:he.colorStop,googleKey:he.googleKey,initLatitude:he.initLatitude,initLongitude:he.initLongitude,interval:he.interval,lang:he.lang,layerId:0,layerName:null,layers:_e()(re,i()(t=[new Kt(0,"OpenStreetMap","",0)]).call(t,G()(he.olLayers))),layerUrl:null,mapApi:he.mapApi,passLenMin:he.passLenMin,passStrength:he.passStrength,publicTracks:he.publicTracks,requireAuth:he.requireAuth,strokeColor:he.strokeColor,strokeOpacity:he.strokeOpacity,strokeWeight:he.strokeWeight,units:he.units,uploadMaxSize:he.uploadMaxSize,uploadMaxSizeMB:he.uploadMaxSize/1024/1024})).model.onCancel=function(){return r.onCancel()},r.model.onSave=function(){return r.onSave()},r.model.onLayerUpdate=function(){return r.onLayerUpdate()},r.model.onLayerCancel=function(){return r.onLayerCancel()},r.model.onLayerEdit=function(){return r.onLayerEdit()},r.model.onLayerDelete=function(){return r.onLayerDelete()},r.model.onLayerAdd=function(){return r.onLayerAdd()},r}return h()(n,[{key:"init",value:function(){var t=this,e=this.getHtml();this.dialog=new je(e),this.dialog.show(),this.bindAll(this.dialog.element),this.toggleEditEl=this.getBoundElement("onLayerEdit").parentNode,this.layerEditEl=this.getBoundElement("layerName").parentNode,this.layerSelect=new ft(this.getBoundElement("layerId")),this.setPublicTracksActivity(this.model.requireAuth),this.toggleEditVisible(),this.onChanged("layerId",(function(e){var n=t.model.layers.get(Et()(e));t.model.layerName=n?n.name:"",t.model.layerUrl=n?n.url:"",t.toggleEditVisible()})),this.model.layerId=he.olLayers.getPriorityLayer().toString(),this.onChanged("uploadMaxSizeMB",(function(e){t.model.uploadMaxSize=1024*e*1024})),this.onChanged("layers",(function(e){return t.layerSelect.setOptions(e)})),this.onChanged("requireAuth",(function(e){t.setPublicTracksActivity(e)}))}},{key:"setPublicTracksActivity",value:function(t){t?this.getBoundElement("publicTracks").disabled=!1:(this.model.publicTracks=!0,this.getBoundElement("publicTracks").disabled=!0)}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"onSave",value:function(){var t=this;this.validate()&&(this.model.layers.setPriorityLayer(Et()(this.model.layerId)),he.save(this.model).then((function(){return t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})))}},{key:"validate",value:function(){return this.dialog.element.querySelector("form").checkValidity()}},{key:"toggleEditVisible",value:function(){Et()(this.model.layerId)>0?this.toggleEditEl.style.visibility="visible":(this.toggleEditEl.style.visibility="hidden",this.hideEditElement())}},{key:"onLayerDelete",value:function(){this.model.layers.delete(Et()(this.model.layerId)),this.model.layerId="0"}},{key:"onLayerEdit",value:function(){"none"===this.layerEditEl.style.display?this.showEditElement():this.hideEditElement()}},{key:"onLayerUpdate",value:function(){if(this.model.layerName&&this.model.layerUrl){if("-1"===this.model.layerId)this.model.layers.addNewLayer(this.model.layerName,this.model.layerUrl);else{var t=this.currentLayer();t.setName(this.model.layerName),t.setUrl(this.model.layerUrl)}this.hideEditElement(),this.layerSelect.setOptions(this.model.layers)}}},{key:"onLayerCancel",value:function(){this.hideEditElement(),this.layerSelect.setOptions(this.model.layers)}},{key:"onLayerAdd",value:function(){this.model.layerId="-1",this.onLayerEdit()}},{key:"hideEditElement",value:function(){this.layerEditEl.style.display="none"}},{key:"showEditElement",value:function(){this.layerEditEl.style.display="block"}},{key:"currentLayer",value:function(){return this.model.layers.get(Et()(this.model.layerId))}},{key:"getHtml",value:function(){for(var t,e,n,r,o,a,s,l,u,c,f,h,d,p,v,m,y,g,b,x,w,k,S,E,A,L,M,O,P,_,C,T,I,j,D,U,z,N,R,V,B,F,H,q,G,X,Y,Z,W,J,$,Q,K,tt,et,nt,rt="",it=0,ot=Oe()(de.getLangList());it<ot.length;it++){var at,st,lt=Le()(ot[it],2),ut=lt[0],ct=lt[1];rt+=i()(at=i()(st='<option value="'.concat(ut,'"')).call(st,this.model.lang===ut?" selected":"",">")).call(at,ct,"</option>")}for(var ft="",ht=0,dt=["metric","imperial","nautical"];ht<dt.length;ht++){var pt,vt,mt=dt[ht];ft+=i()(pt=i()(vt='<option value="'.concat(mt,'"')).call(vt,this.model.units===mt?" selected":"",">")).call(pt,de._(mt),"</option>")}var yt,gt="",bt=De(this.model.layers);try{for(bt.s();!(yt=bt.n()).done;){var xt,wt,kt=yt.value;gt+=i()(xt=i()(wt='<option value="'.concat(kt.id,'"')).call(wt,kt.priority>0?" selected":"",">")).call(xt,kt.name,"</option>")}}catch(t){bt.e(t)}finally{bt.f()}return i()(t=i()(e=i()(n=i()(r=i()(o=i()(a=i()(s=i()(l=i()(u=i()(c=i()(f=i()(h=i()(d=i()(p=i()(v=i()(m=i()(y=i()(g=i()(b=i()(x=i()(w=i()(k=i()(S=i()(E=i()(A=i()(L=i()(M=i()(O=i()(P=i()(_=i()(C=i()(T=i()(I=i()(j=i()(D=i()(U=i()(z=i()(N=i()(R=i()(V=i()(B=i()(F=i()(H=i()(q=i()(G=i()(X=i()(Y=i()(Z=i()(W=i()(J=i()($=i()(Q=i()(K=i()(tt=i()(et=i()(nt='<div><img style="vertical-align: bottom; margin-right: 10px;" src="images/settings.svg" alt="'.concat(de._("settings"),'"> <b>')).call(nt,de._("editingconfig"),'</b></div>\n      <div style="clear: both; padding-bottom: 1em;"></div>\n      <form id="configForm">\n        <label><b>')).call(et,de._("language"),'</b>\n        <select data-bind="lang">\n          ')).call(tt,rt,"\n        </select></label>\n        <label><b>")).call(K,de._("units"),'</b>\n        <select data-bind="units">\n          ')).call(Q,ft,"\n        </select></label>\n        <label><b>")).call($,de._("api"),'</b>\n        <select data-bind="mapApi">\n          <option value="openlayers"')).call(J,"openlayers"===this.model.mapApi?" selected":"",'>OpenLayers</option>\n          <option value="gmaps"')).call(W,"gmaps"===this.model.mapApi?" selected":"",">Google Maps</option>\n        </select></label>\n        <label><b>")).call(Z,de._("ollayers"),'</b>\n        <select data-bind="layerId">\n          ')).call(Y,gt,'\n        </select>\n        <a data-bind="onLayerAdd"><img src="images/add.svg" alt="')).call(X,de._("add"),'"></a> \n        <span style="visibility: hidden;">\n        <a data-bind="onLayerEdit"><img src="images/edit.svg" alt="')).call(G,de._("edit"),'"></a> \n        <a data-bind="onLayerDelete"><img src="images/delete.svg" alt="')).call(q,de._("delete"),'"></a>\n        </span></label>\n        <div style="display: none; text-align: center;">\n          <input type="text" maxlength="50" placeholder="')).call(H,de._("layername"),'" data-bind="layerName">\n          <input type="text" maxlength="255" placeholder="')).call(F,de._("layerurl"),'" data-bind="layerUrl">\n          <button class="button-resolve" data-bind="onLayerUpdate" type="submit">')).call(B,de._("submit"),'</button>\n          <button class="button-reject" data-bind="onLayerCancel" type="button">')).call(V,de._("cancel"),"</button>\n        </div>\n        <label><b>")).call(R,de._("interval"),'</b>\n        <input type="number" data-bind="interval" min="1" value="')).call(N,this.model.interval,'" required></label>\n        <label><b>')).call(z,de._("longitude"),'</b>\n        <input type="number" data-bind="initLongitude" min="-180" max="180" step="0.01" value="')).call(U,this.model.initLongitude,'" required></label>\n        <label><b>')).call(D,de._("latitude"),'</b>\n        <input type="number" data-bind="initLatitude" min="-90" max="90" step="0.01" value="')).call(j,this.model.initLatitude,'" required></label>\n        <label><b>')).call(I,de._("googlekey"),'</b>\n        <input type="text" data-bind="googleKey" value="')).call(T,this.model.googleKey,'"></label>\n        <label><b>')).call(C,de._("passlength"),'</b>\n        <input type="number" data-bind="passLenMin" min="1" value="')).call(_,this.model.passLenMin,'" required></label>\n        <label><b>')).call(P,de._("passstrength"),'</b>\n        <select data-bind="passStrength">\n          <option value="0"')).call(O,0===this.model.passStrength?" selected":"",'>password</option>\n          <option value="1"')).call(M,1===this.model.passStrength?" selected":"",'>paSsword</option>\n          <option value="2"')).call(L,2===this.model.passStrength?" selected":"",'>paSsword1</option>\n          <option value="3"')).call(A,3===this.model.passStrength?" selected":"",">paSsword1#</option>\n        </select></label>\n        <label><b>")).call(E,de._("uploadmaxsize"),'</b>\n        <input type="number" data-bind="uploadMaxSizeMB" min="1" value="')).call(S,this.model.uploadMaxSizeMB,'" required></label>\n        <label><b>')).call(k,de._("requireauth"),'</b>\n        <input type="checkbox" data-bind="requireAuth"')).call(w,this.model.requireAuth?" checked":"","></label>\n        <label><b>")).call(x,de._("publictracks"),'</b>\n        <input type="checkbox" data-bind="publicTracks"')).call(b,this.model.publicTracks?" checked":"","></label>\n        <label><b>")).call(g,de._("strokeweight"),'</b>\n        <input type="number" data-bind="strokeWeight" min="1" value="')).call(y,this.model.strokeWeight,'" required></label>\n        <label><b>')).call(m,de._("strokeopacity"),'</b>\n        <input type="number" data-bind="strokeOpacity" min="0" max="1" step="0.01" value="')).call(v,this.model.strokeOpacity,'" required></label>\n        <label><b>')).call(p,de._("strokecolor"),'</b>\n        <input type="color" data-bind="strokeColor" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(d,this.model.strokeColor,'" required></label>\n        <label><b>')).call(h,de._("colornormal"),'</b>\n        <input type="color" data-bind="colorNormal" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(f,this.model.colorNormal,'" required></label>\n        <label><b>')).call(c,de._("colorstart"),'</b>\n        <input type="color" data-bind="colorStart" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(u,this.model.colorStart,'" required></label>\n        <label><b>')).call(l,de._("colorstop"),'</b>\n        <input type="color" data-bind="colorStop" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(s,this.model.colorStop,'" required></label>\n        <label><b>')).call(a,de._("colorextra"),'</b>\n        <input type="color" data-bind="colorExtra" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(o,this.model.colorExtra,'" required></label>\n        <label><b>')).call(r,de._("colorhilite"),'</b>\n        <input type="color" data-bind="colorHilite" pattern="#[0-9a-f]{6}" maxlength="7" value="')).call(n,this.model.colorHilite,'" required></label>\n        <div class="buttons">\n          <button class="button-reject" data-bind="onCancel" type="button">')).call(e,de._("cancel"),'</button>\n          <button class="button-resolve" data-bind="onSave" type="submit">')).call(t,de._("submit"),"</button>\n        </div>\n      </form>")}}]),n}(be);function Re(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Ve=function(t){R()(n,t);var e=Re(n);function n(t){var r;return c()(this,n),(r=e.call(this,he)).state=t,r.model.onSetInterval=function(){return r.setAutoReloadInterval()},r.model.onConfigEdit=function(){return r.showConfigDialog()},r}return h()(n,[{key:"init",value:function(){return this.setObservers(),this.bindAll(),this}},{key:"setObservers",value:function(){this.onChanged("mapApi",(function(t){Mt.setCookie("api",t)})),this.onChanged("lang",(function(t){Mt.setCookie("lang",t),n.reload()})),this.onChanged("units",(function(t){Mt.setCookie("units",t),n.reload()})),this.onChanged("interval",(function(t){Mt.setCookie("interval",t)}))}},{key:"setAutoReloadInterval",value:function(){var t=Et()(prompt(de._("newinterval")));isNaN(t)||t===this.model.interval||(this.model.interval=t)}},{key:"showConfigDialog",value:function(){new Ne(this).init()}}],[{key:"reload",value:function(){window.location.reload()}}]),n}(be);function Be(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Fe,He="menu-hidden",qe=function(t){R()(n,t);var e=Be(n);function n(t){var r;return c()(this,n),(r=e.call(this,{onMenuToggle:null,onShowUserMenu:null,onLogin:null,onLogout:null})).state=t,r.model.onMenuToggle=function(){return r.toggleSideMenu()},r.model.onShowUserMenu=function(){return r.toggleUserMenu()},r.model.onLogin=function(){return n.login()},r.model.onLogout=function(){return n.logout()},r.hideUserMenuCallback=function(t){return r.hideUserMenu(t)},r.menuEl=document.querySelector("#menu"),r.userMenuEl=document.querySelector("#user-menu"),r}return h()(n,[{key:"init",value:function(){return this.bindAll(),this}},{key:"toggleSideMenu",value:function(){this.menuEl.classList.contains(He)?this.menuEl.classList.remove(He):this.menuEl.classList.add(He)}},{key:"toggleUserMenu",value:function(){this.userMenuEl.classList.contains(He)?(this.userMenuEl.classList.remove(He),window.addEventListener("click",this.hideUserMenuCallback,!0)):this.userMenuEl.classList.add(He)}},{key:"hideUserMenu",value:function(t){var e=t.target;this.userMenuEl.classList.add(He),window.removeEventListener("click",this.hideUserMenuCallback,!0),"user-menu"!==e.parentElement.id&&t.stopPropagation()}}],[{key:"login",value:function(){Mt.openUrl("login.php".concat(window.location.hash))}},{key:"logout",value:function(){var t="utils/logout.php";he.requireAuth||(t+="?hash=".concat(window.location.hash.replace("#",""))),Mt.openUrl(t)}}]),n}(be),Ge=function(){function t(e){c()(this,t),this.map=null,this.viewModel=e,this.polies=[],this.markers=[],this.popup=null,this.timeoutHandle=0}return h()(t,[{key:"init",value:function(){var e=this,n="?".concat(he.googleKey?"key=".concat(he.googleKey,"&"):"","callback=gm_loaded");return a.a.all([t.onScriptLoaded(),Mt.loadScript("https://maps.googleapis.com/maps/api/js".concat(n),"mapapi_gmaps",t.loadTimeoutMs)]).then((function(){return e.initMap()}))}},{key:"initMap",value:function(){var t=this,e={center:new google.maps.LatLng(he.initLatitude,he.initLongitude),zoom:8,mapTypeId:google.maps.MapTypeId.TERRAIN,scaleControl:!0,controlSize:30};this.map=new google.maps.Map(this.viewModel.mapElement,e),this.popup=new google.maps.InfoWindow,this.popup.addListener("closeclick",(function(){t.popupClose()})),this.saveState=function(){t.viewModel.state.mapParams=t.getState()}}},{key:"cleanup",value:function(){this.polies.length=0,this.markers.length=0,this.popup=null,Lt()(this)&&Lt()(this).getDiv()&&(Lt()(this).getDiv().innerHTML=""),this.map=null}},{key:"displayTrack",value:function(t,e){var n=this;if(!t||!t.hasPositions)return a.a.resolve();google.maps.event.clearListeners(Lt()(this),"idle");var r,i=new a.a((function(t){google.maps.event.addListenerOnce(Lt()(n),"tilesloaded",(function(){Lt()(n)&&(n.saveState(),Lt()(n).addListener("idle",n.saveState)),t()}))})),o={strokeColor:he.strokeColor,strokeOpacity:he.strokeOpacity,strokeWeight:he.strokeWeight},s=new google.maps.LatLngBounds;if(this.polies.length){r=this.polies[0];for(var u=0;u<this.markers.length;u++)s.extend(this.markers[u].getPosition())}else(r=new google.maps.Polyline(o)).setMap(Lt()(this)),this.polies.push(r);var c=r.getPath(),f=this.markers.length;f>0&&this.removePoint(--f);for(var h=f;h<t.length;h++){this.setMarker(h,t);var d=t.positions[h],p=new google.maps.LatLng(d.latitude,d.longitude);t instanceof Ut&&c.push(p),s.extend(p)}if(e&&(Lt()(this).fitBounds(s),1===t.length)){var v=google.maps.event.addListenerOnce(Lt()(this),"bounds_changed",(function(){this.getZoom()&&this.setZoom(15)}));l()((function(){google.maps.event.removeListener(v)}),2e3)}return i}},{key:"clearMap",value:function(){if(this.polies)for(var t=0;t<this.polies.length;t++)this.polies[t].setMap(null);if(this.markers)for(var e=0;e<this.markers.length;e++)this.markers[e].setMap(null);this.popup.getMap()&&this.popupClose(),this.popup.setContent(""),this.markers.length=0,this.polies.length=0}},{key:"setMarker",value:function(e,n){var r,i=this,o=n.positions[e],a=new google.maps.Marker({position:new google.maps.LatLng(o.latitude,o.longitude),title:new Date(1e3*o.timestamp).toLocaleString(),map:Lt()(this)}),s=o.hasComment()||o.hasImage();r=n.isLastPosition(e)?t.getMarkerIcon(he.colorStop,!0,s):n.isFirstPosition(e)?t.getMarkerIcon(he.colorStart,!0,s):t.getMarkerIcon(s?he.colorExtra:he.colorNormal,!1,s),a.setIcon(r),a.addListener("click",(function(){i.popupOpen(e,a)})),a.addListener("mouseover",(function(){i.viewModel.model.markerOver=e})),a.addListener("mouseout",(function(){i.viewModel.model.markerOver=null})),this.markers.push(a)}},{key:"removePoint",value:function(t){var e;this.markers.length>t&&(this.markers[t].setMap(null),Yt()(e=this.markers).call(e,t,1),this.polies.length&&this.polies[0].getPath().removeAt(t),this.viewModel.model.markerSelect===t&&this.popupClose())}},{key:"popupOpen",value:function(t,e){this.popup.setContent(this.viewModel.getPopupElement(t)),this.popup.open(Lt()(this),e),this.viewModel.model.markerSelect=t}},{key:"popupClose",value:function(){this.viewModel.model.markerSelect=null,this.popup.close()}},{key:"animateMarker",value:function(e){var n=this;this.popup.getMap()&&(this.popupClose(),clearTimeout(this.timeoutHandle));var r=this.markers[e].getIcon();this.markers[e].setIcon(t.getMarkerIcon(he.colorHilite,!1,!1)),this.markers[e].setAnimation(google.maps.Animation.BOUNCE),this.timeoutHandle=l()((function(){n.markers[e].setIcon(r),n.markers[e].setAnimation(null)}),2e3)}},{key:"getBounds",value:function(){var t=Lt()(this).getBounds(),e=t.getSouthWest().lat(),n=t.getSouthWest().lng(),r=t.getNorthEast().lat();return[n,e,t.getNorthEast().lng(),r]}},{key:"zoomToExtent",value:function(){for(var t=new google.maps.LatLngBounds,e=0;e<this.markers.length;e++)t.extend(this.markers[e].getPosition());Lt()(this).fitBounds(t)}},{key:"zoomToBounds",value:function(t){var e=new google.maps.LatLng(t[1],t[0]),n=new google.maps.LatLng(t[3],t[2]),r=new google.maps.LatLngBounds(e,n);Lt()(this).fitBounds(r)}},{key:"updateSize",value:function(){}},{key:"setTrackDefaultStyle",value:function(){}},{key:"setTrackGradientStyle",value:function(t,e,n){}},{key:"updateState",value:function(t){Lt()(this).setCenter({lat:t.center[0],lng:t.center[1]}),Lt()(this).setZoom(t.zoom)}},{key:"getState",value:function(){if(Lt()(this)){var t=Lt()(this).getCenter();return{center:[t.lat(),t.lng()],zoom:Lt()(this).getZoom(),rotation:0}}return null}}],[{key:"onScriptLoaded",value:function(){var e=Mt.timeoutPromise(t.loadTimeoutMs),n=new a.a((function(e,n){window.gm_loaded=function(){t.gmInitialized=!0,e()},window.gm_authFailure=function(){t.authError=!0;var e=de._("apifailure","Google Maps");e+="<br><br>"+de._("gmauthfailure"),e+="<br><br>"+de._("gmapilink"),t.gmInitialized&&Ce.error(e),n(new Error(e))},t.authError&&window.gm_authFailure(),t.gmInitialized&&window.gm_loaded()}));return a.a.race([n,e])}},{key:"getMarkerIcon",value:function(t,e,n){return{anchor:new google.maps.Point(15,35),url:Ke.getSvgSrc(t,e,n)}}},{key:"loadTimeoutMs",get:function(){return 1e4}}]),t}();function Xe(t,e){var n;if(void 0===g.a||null==m()(t)){if(O()(t)||(n=function(t,e){var n;if(!t)return;if("string"==typeof t)return Ye(t,e);var r=k()(n=Object.prototype.toString.call(t)).call(n,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return x()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ye(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=p()(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Ge.authError=!1,Ge.gmInitialized=!1;var Ze=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c()(this,t),this.map=null,this.viewModel=e,this.layerTrack=null,this.layerMarkers=null,this.selectedLayer=null,this.markerStyles=null,this.popup=null,n&&(Fe=n)}return h()(t,[{key:"init",value:function(){var t=this;return Mt.addCss("css/dist/ol.css","ol_css"),(Fe?a.a.resolve():n.e(1).then(n.bind(null,409)).then((function(t){Fe=t}))).then((function(){t.initMap(),t.initLayers(),t.initStyles(),t.initPopups()}))}},{key:"initMap",value:function(){var t=this,e=[new Fe.control.Zoom,new Fe.control.Rotate,new Fe.control.ScaleLine],n=new Fe.View({center:Fe.proj.fromLonLat([he.initLongitude,he.initLatitude]),zoom:8});this.map=new Fe.Map({target:this.viewModel.mapElement,controls:e,view:n}),Lt()(this).on("pointermove",(function(e){var n=Lt()(t).forEachFeatureAtPixel(e.pixel,(function(t,e){return"Markers"===e.get("name")?t:null}));if(n){Lt()(t).getTargetElement().style.cursor="pointer";var r=n.getId();r!==t.viewModel.model.markerOver&&(t.viewModel.model.markerOver=r)}else Lt()(t).getTargetElement().style.cursor="",t.viewModel.model.markerOver=null})),this.saveState=function(){t.viewModel.state.mapParams=t.getState()}}},{key:"initLayers",value:function(){var t=new Fe.layer.TileLayer({name:"OpenStreetMap",visible:!0,source:new Fe.source.OSM});Lt()(this).addLayer(t),this.selectedLayer=t;var e,n=Xe(he.olLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=new Fe.layer.TileLayer({name:r.name,visible:!1,source:new Fe.source.XYZ({url:r.url})});Lt()(this).addLayer(i),r.priority&&(this.selectedLayer.setVisible(!1),this.selectedLayer=i,this.selectedLayer.setVisible(!0))}}catch(t){n.e(t)}finally{n.f()}this.layerTrack=new Fe.layer.VectorLayer({name:"Track",type:"data",source:new Fe.source.Vector}),this.layerMarkers=new Fe.layer.VectorLayer({name:"Markers",type:"data",source:new Fe.source.Vector}),Lt()(this).addLayer(this.layerTrack),Lt()(this).addLayer(this.layerMarkers),this.initLayerSwitcher()}},{key:"initStyles",value:function(){var t=[.5,1];this.markerStyles={start:new Fe.style.Style({image:new Fe.style.Icon({anchor:t,src:Ke.getSvgSrc(he.colorStart,!0)})}),stop:new Fe.style.Style({image:new Fe.style.Icon({anchor:t,src:Ke.getSvgSrc(he.colorStop,!0)})}),normal:new Fe.style.Style({image:new Fe.style.Icon({anchor:t,opacity:.7,src:Ke.getSvgSrc(he.colorNormal,!1)})}),extra:new Fe.style.Style({image:new Fe.style.Icon({anchor:t,src:Ke.getSvgSrc(he.colorExtra,!1,!0)})}),startExtra:new Fe.style.Style({image:new Fe.style.Icon({anchor:t,src:Ke.getSvgSrc(he.colorStart,!0,!0)})}),stopExtra:new Fe.style.Style({image:new Fe.style.Icon({anchor:t,src:Ke.getSvgSrc(he.colorStop,!0,!0)})}),hilite:new Fe.style.Style({image:new Fe.style.Icon({anchor:t,src:Ke.getSvgSrc(he.colorHilite,!1)})})}}},{key:"setTrackDefaultStyle",value:function(){var t=new Fe.style.Style({stroke:new Fe.style.Stroke({color:Mt.hexToRGBA(he.strokeColor,he.strokeOpacity),width:he.strokeWeight})});this.layerTrack.setStyle(t)}},{key:"getGradientStyle",value:function(t,e,n){var r=Lt()(this).getPixelFromCoordinate(e[0]),i=Lt()(this).getPixelFromCoordinate(e[1]),o=window.devicePixelRatio,a=r[0]*o,s=r[1]*o,l=i[0]*o,u=i[1]*o,c=t.createLinearGradient(a,s,l,u);return c.addColorStop(0,n[0]),c.addColorStop(1,n[1]),new Fe.style.Style({geometry:new Fe.geom.LineString(e),stroke:new Fe.style.Stroke({color:c,width:2*he.strokeWeight})})}},{key:"setTrackGradientStyle",value:function(t,e,n){var r=this,i=n.minValue,o=n.maxValue,a=n.minColor,s=n.maxColor;if(t.length<2||o<i)this.setTrackDefaultStyle();else{var l=document.createElement("canvas",{alpha:!1,desynchronized:!0}).getContext("2d");this.layerTrack.setStyle((function(n){var u=[new Fe.style.Style({stroke:new Fe.style.Stroke({color:"grey",width:2*he.strokeWeight+2})})],c=n.getGeometry();if(i===o)return u.push(new Fe.style.Style({geometry:c,stroke:new Fe.style.Stroke({color:Mt.getScaleColor(a,s,.5),width:2*he.strokeWeight})})),u;var f=t.positions[0],h=null!==f[e]?f[e]:0,d=Mt.getScaleColor(a,s,(h-i)/(o-i)),p=1;return c.forEachSegment((function(n,c){var h;h=null!==(f=t.positions[p])[e]?Mt.getScaleColor(a,s,(f[e]-i)/(o-i)):d,u.push(r.getGradientStyle(l,[n,c],[d,h])),d=h,p++})),u}))}}},{key:"initPopups",value:function(){var t=this,e=document.createElement("div");e.id="popup-container",e.className="ol-popup";var n=document.createElement("div");n.id="popup-content",e.appendChild(n);var r=document.createElement("a");r.className="ol-popup-closer",e.appendChild(r),this.popup=new Fe.Overlay({element:e,autoPan:!0,autoPanAnimation:{duration:250}}),Lt()(this).addOverlay(this.popup),r.onclick=function(){return t.popupClose(),r.blur(),!1},Lt()(this).on("click",(function(e){var n=e.coordinate,r=Lt()(t).forEachFeatureAtPixel(e.pixel,(function(t,e){return"Markers"===e.get("name")?t:null}));r?t.popupOpen(r.getId(),n):t.popupClose()}))}},{key:"popupOpen",value:function(t,e){this.popup.getElement().firstElementChild.innerHTML="",this.popup.getElement().firstElementChild.appendChild(this.viewModel.getPopupElement(t)),this.popup.setPosition(e),this.viewModel.model.markerSelect=t}},{key:"popupClose",value:function(){this.popup&&(this.popup.setPosition(void 0),this.popup.getElement().firstElementChild.innerHTML=""),this.viewModel.model.markerSelect=null}},{key:"switchLayer",value:function(t){var e,n=this;$()(e=Lt()(this).getLayers()).call(e,(function(e){e.get("name")===t&&("data"===e.get("type")?e.getVisible()?e.setVisible(!1):e.setVisible(!0):(n.selectedLayer.setVisible(!1),n.selectedLayer=e,e.setVisible(!0)))}))}},{key:"initLayerSwitcher",value:function(){var t,e=this,n=document.createElement("div");n.id="switcher",n.className="ol-control",document.body.appendChild(n);var r=document.createElement("div");r.id="switcher-content",r.className="ol-layerswitcher",n.appendChild(r);var i=document.createElement("a");i.className="ol-popup-closer",n.appendChild(i),$()(t=Lt()(this).getLayers()).call(t,(function(t){var n=document.createElement("label");n.innerHTML=t.get("name"),r.appendChild(n);var i=document.createElement("input");"data"===t.get("type")?(i.type="checkbox",n.className="ol-datalayer"):i.type="radio",i.name="layer",i.value=t.get("name"),i.onclick=function(t){var n=t.target;e.switchLayer(n.value)},t.getVisible()&&(i.checked=!0),n.insertBefore(i,n.childNodes[0])}));var o=document.createElement("button"),a=document.createElement("img");a.src="images/layers.svg",a.style.width="60%",o.appendChild(a);var s=function(){"block"===n.style.display?n.style.display="none":n.style.display="block"};i.addEventListener("click",s,!1),o.addEventListener("click",s,!1),o.addEventListener("touchstart",s,!1);var l=document.createElement("div");l.className="ol-switcher-button ol-unselectable ol-control",l.appendChild(o);var u=new Fe.control.Control({element:l});Lt()(this).addControl(u)}},{key:"cleanup",value:function(){this.layerTrack=null,this.layerMarkers=null,this.selectedLayer=null,this.markerStyles=null,Mt.removeElementById("switcher"),Lt()(this)&&Lt()(this).getTargetElement()&&(Lt()(this).getTargetElement().innerHTML=""),this.map=null}},{key:"displayTrack",value:function(t,e){var n=this;if(!t||!t.hasPositions)return a.a.resolve();Lt()(this).un("moveend",this.saveState);var r=new a.a((function(t){Lt()(n).once("rendercomplete",(function(){Lt()(n)&&(n.saveState(),Lt()(n).on("moveend",n.saveState)),t()}))})),i=this.layerMarkers?this.layerMarkers.getSource().getFeatures().length:0;i>0&&this.removePoint(--i);for(var o=i;o<t.length;o++)this.setMarker(o,t);if(t instanceof Ut){var s;if(this.layerTrack&&this.layerTrack.getSource().getFeatures().length)s=this.layerTrack.getSource().getFeatures()[0].getGeometry();else{s=new Fe.geom.LineString([]);var l=new Fe.Feature({geometry:s});this.layerTrack.getSource().addFeature(l)}for(var u=i;u<t.length;u++){var c=t.positions[u];s.appendCoordinate(Fe.proj.fromLonLat([c.longitude,c.latitude]))}}var f=this.layerMarkers.getSource().getExtent();return e&&(f=this.fitToExtent(f)),this.setZoomToExtent(f),r}},{key:"setZoomToExtent",value:function(e){var n,r=this;$()(n=Lt()(this).getControls()).call(n,(function(t){t instanceof Fe.control.ZoomToExtent&&Lt()(r).removeControl(t)})),Lt()(this).addControl(new Fe.control.ZoomToExtent({extent:e,label:t.getExtentImg()}))}},{key:"fitToExtent",value:function(e){return Lt()(this).getView().fit(e,{padding:[40,10,10,10],maxZoom:t.ZOOM_MAX}),Lt()(this).getView().getZoom()===t.ZOOM_MAX&&(e=Lt()(this).getView().calculateExtent(Lt()(this).getSize())),e}},{key:"clearMap",value:function(){this.popupClose(),this.layerTrack&&this.layerTrack.getSource().clear(),this.layerMarkers&&this.layerMarkers.getSource().clear()}},{key:"getMarkerStyle",value:function(t,e){var n=e.positions[t],r=this.markerStyles.normal;return n.hasComment()||n.hasImage()?r=e.isLastPosition(t)?this.markerStyles.stopExtra:e.isFirstPosition(t)?this.markerStyles.startExtra:this.markerStyles.extra:e.isLastPosition(t)?r=this.markerStyles.stop:e.isFirstPosition(t)&&(r=this.markerStyles.start),r}},{key:"setMarker",value:function(t,e){var n=e.positions[t],r=new Fe.Feature({geometry:new Fe.geom.Point(Fe.proj.fromLonLat([n.longitude,n.latitude]))}),i=this.getMarkerStyle(t,e);r.setStyle(i),r.setId(t),this.layerMarkers.getSource().addFeature(r)}},{key:"removePoint",value:function(t){var e=this.layerMarkers.getSource().getFeatureById(t);if(e){if(this.layerMarkers.getSource().removeFeature(e),this.layerTrack){var n=this.layerTrack.getSource().getFeatures()[0].getGeometry(),r=n.getCoordinates();Yt()(r).call(r,t,1),n.setCoordinates(r)}this.viewModel.model.markerSelect===t&&this.popupClose()}}},{key:"animateMarker",value:function(t){var e=this.layerMarkers.getSource().getFeatureById(t),n=e.getStyle();e.setStyle(this.markerStyles.hilite),l()((function(){return e.setStyle(n)}),2e3)}},{key:"getBounds",value:function(){var t=Lt()(this).getView().calculateExtent(Lt()(this).getSize()),e=Fe.proj.toLonLat([t[0],t[1]]),n=Fe.proj.toLonLat([t[2],t[3]]);return[e[0],e[1],n[0],n[1]]}},{key:"zoomToExtent",value:function(){Lt()(this).getView().fit(this.layerMarkers.getSource().getExtent(),{maxZoom:t.ZOOM_MAX})}},{key:"zoomToBounds",value:function(t){var e=Fe.proj.fromLonLat([t[0],t[1]]),n=Fe.proj.fromLonLat([t[2],t[3]]);Lt()(this).getView().fit([e[0],e[1],n[0],n[1]])}},{key:"updateSize",value:function(){Lt()(this).updateSize()}},{key:"updateState",value:function(t){Lt()(this).getView().setCenter(t.center),Lt()(this).getView().setZoom(t.zoom),Lt()(this).getView().setRotation(t.rotation)}},{key:"getState",value:function(){var t=Lt()(this)?Lt()(this).getView():null;return t?{center:t.getCenter(),zoom:t.getZoom(),rotation:t.getRotation()}:null}}],[{key:"getExtentImg",value:function(){var t=document.createElement("img");return t.src="images/extent.svg",t.style.width="60%",t}}]),t}();function We(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}Ze.ZOOM_MAX=20;var Je="hidden",$e=function(t){R()(n,t);var e=We(n);function n(t,r){var i;return c()(this,n),(i=e.call(this,{onPositionDelete:null,onPositionUpdate:null,onCancel:null,comment:null,image:null,onImageDelete:null})).state=t,i.positionIndex=r,i.position=i.state.currentTrack.positions[r],i.model.comment=i.position.hasComment()?i.position.comment:"",i.model.image=i.position.image,i.model.onPositionDelete=function(){return i.onPositionDelete()},i.model.onPositionUpdate=function(){return i.onPositionUpdate()},i.model.onCancel=function(){return i.onCancel()},i.model.onImageDelete=function(){return i.onImageDelete()},i.onChanged("image",(function(t){t&&t!==i.position.image&&i.readImage()})),i}return h()(n,[{key:"init",value:function(){var t=this.getHtml();this.dialog=new je(t),this.dialog.show(),this.bindAll(this.dialog.element),this.previewEl=this.getBoundElement("imagePreview"),this.fileEl=this.getBoundElement("image"),this.imageDeleteEl=this.getBoundElement("onImageDelete"),this.initReader()}},{key:"initReader",value:function(){var t=this;this.reader=new FileReader,this.reader.addEventListener("load",(function(){t.showThumbnail()}),!1),this.reader.addEventListener("error",(function(){t.model.image=t.position.image}),!1)}},{key:"readImage",value:function(){var t=this.fileEl.files[0];if(t){if(t.size>he.uploadMaxSize)return Ce.error(de._("isizefailure",he.uploadMaxSize)),void(this.model.image=this.position.image);this.reader.readAsDataURL(t)}}},{key:"showThumbnail",value:function(){var t=this;this.previewEl.onload=function(){return t.toggleImage()},this.previewEl.onerror=function(){Ce.error(de._("iuploadfailure")),t.model.image=t.position.image},this.previewEl.src=this.reader.result}},{key:"toggleImage",value:function(){this.previewEl.classList.contains(Je)?(this.previewEl.classList.remove(Je),this.imageDeleteEl.classList.remove(Je),this.fileEl.classList.add(Je)):(this.previewEl.classList.add(Je),this.imageDeleteEl.classList.add(Je),this.fileEl.classList.remove(Je))}},{key:"onImageDelete",value:function(){this.model.image=null,this.toggleImage()}},{key:"getHtml",value:function(){var t,e,n,r,o,a,s,l,u,c,f;return i()(t=i()(e=i()(n=i()(r=i()(o=i()(a=i()(s=i()(l=i()(u=i()(c=i()(f='<div class="red-button button-resolve"><b><a data-bind="onPositionDelete">'.concat(de._("delposition"),"</a></b></div>\n      <div>")).call(f,de._("editingposition",this.positionIndex+1,"<b>".concat(Mt.htmlEncode(this.position.trackname),"</b>")),'</div>\n      <div style="clear: both; padding-bottom: 1em;"></div>\n      <form id="positionForm">\n        <label><b>')).call(c,de._("comment"),'</b></label><br>\n        <textarea style="width:100%;" maxlength="255" rows="5" placeholder="')).call(u,de._("comment"),'" name="comment" \n        data-bind="comment" autofocus>')).call(l,Mt.htmlEncode(this.model.comment),"</textarea>\n        <br><br>\n        <label><b>")).call(s,de._("image"),'</b></label><br>\n        <input type="file" name="image" data-bind="image" accept="image/png, image/jpeg, image/gif, image/bmp"')).call(a,this.position.hasImage()?' class="hidden"':"",'>\n        <img style="max-width:50px; max-height:50px" data-bind="imagePreview" ')).call(o,this.position.hasImage()?'src="'.concat(this.position.getImagePath(),'"'):'class="hidden"','>\n        <a data-bind="onImageDelete" ')).call(r,this.position.hasImage()?"":' class="hidden"',">")).call(n,de._("delimage"),'</a>\n        <div class="buttons">\n          <button class="button-reject" data-bind="onCancel" type="button">')).call(e,de._("cancel"),'</button>\n          <button class="button-resolve" data-bind="onPositionUpdate" type="submit">')).call(t,de._("submit"),"</button>\n        </div>\n      </form>")}},{key:"onPositionDelete",value:function(){var t=this;je.isConfirmed(de._("positiondelwarn",this.positionIndex+1,Mt.htmlEncode(this.position.trackname)))&&this.position.delete().then((function(){var e,n=t.state.currentTrack;t.state.currentTrack=null,Yt()(e=n.positions).call(e,t.positionIndex,1),n.recalculatePositions(),t.state.currentTrack=n,t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"updateImage",value:function(){var t=a.a.resolve();return this.model.image!==this.position.image&&(t=null===this.model.image?this.position.imageDelete():this.position.imageAdd(this.fileEl.files[0])),t}},{key:"onPositionUpdate",value:function(){var t,e=this;kt()(t=this.model.comment).call(t),this.validate()&&(this.position.comment=this.model.comment,this.updateImage().then((function(){return e.position.save()})).then((function(){lt.forceUpdate(e.state,"currentTrack"),e.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})))}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"validate",value:function(){return!(this.model.comment===this.position.comment&&this.model.image===this.position.image)}}]),n}(be);function Qe(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var Ke=function(t){R()(n,t);var e=Qe(n);function n(t){var r;return c()(this,n),(r=e.call(this,{markerOver:null,markerSelect:null,onMenuToggle:null,speedVisible:!1,altitudeVisible:!1})).state=t,r.mapElement=document.querySelector("#map-canvas"),r.speedEl=r.getBoundElement("speedVisible"),r.altitudeEl=r.getBoundElement("altitudeVisible"),r.styleEl=r.getBoundElement("trackColor"),r.savedBounds=null,r.api=null,r}return h()(n,[{key:"init",value:function(){return this.bindAll(),this.setObservers(),this}},{key:"loadMapAPI",value:function(t){var e=this,n=this.api;if(this.api=null,n){try{this.savedBounds=n.getBounds()}catch(t){this.savedBounds=null}n.cleanup()}(n=this.getApi(t)).init().then((function(){e.api=n,e.onReady()})).catch((function(e){var n=de._("apifailure",t);e&&e.message&&(n+=" (".concat(e.message,")")),Ce.error(n,e),he.mapApi="gmaps"===t?"openlayers":"gmaps"}))}},{key:"getApi",value:function(t){return"gmaps"===t?new Ge(this):new Ze(this)}},{key:"onReady",value:function(){if(this.state.currentTrack){var t=!0;this.savedBounds&&(this.api.zoomToBounds(this.savedBounds),t=!1),this.displayTrack(this.state.currentTrack,t)}}},{key:"setObservers",value:function(){var t=this;he.onChanged("mapApi",(function(e){t.loadMapAPI(e),t.toggleStyleOptions(),t.toggleStyleMenu()})),this.state.onChanged("currentTrack",(function(e){t.api&&(t.api.clearMap(),e&&(lt.observe(e,"positions",(function(){t.displayTrack(e,!1),t.api.zoomToExtent()})),t.displayTrack(e,!0)),t.toggleStyleOptions())})),this.state.onChanged("history",(function(){var e=t.state.history;t.api&&e&&!e.trackId&&(e.mapApi?he.mapApi=e.mapApi:(e.mapParams?t.api.updateState(e.mapParams):t.api.zoomToExtent(),t.state.history=null))})),this.model.onMenuToggle=function(){return t.onMapResize()},this.onChanged("speedVisible",(function(e){e&&(t.model.altitudeVisible=!1),t.setTrackStyle()})),this.onChanged("altitudeVisible",(function(e){e&&(t.model.speedVisible=!1),t.setTrackStyle()}))}},{key:"displayTrack",value:function(t,e){var n=this;this.state.jobStart(),e&&this.state.history&&this.state.history.mapParams&&(this.api.updateState(this.state.history.mapParams),e=!1),this.state.history=null,this.setTrackStyle(),this.api.displayTrack(t,e).finally((function(){return n.state.jobStop()}))}},{key:"onMapResize",value:function(){this.api&&this.api.updateSize()}},{key:"toggleStyleOptions",value:function(){var t=this.state.currentTrack;this.speedEl.disabled=!t||!t.hasSpeeds||t.length<=1,this.altitudeEl.disabled=!t||!t.hasAltitudes||t.length<=1}},{key:"toggleStyleMenu",value:function(){"openlayers"===he.mapApi?this.styleEl.style.display="block":this.styleEl.style.display="none"}},{key:"setTrackStyle",value:function(){var t=this.state.currentTrack;this.api&&t&&(this.model.speedVisible&&t.hasSpeeds?this.setSpeedStyle():this.model.altitudeVisible&&t.hasAltitudes?this.setAltitudeStyle():this.api.setTrackDefaultStyle())}},{key:"setSpeedStyle",value:function(){var t=this.state.currentTrack,e={minValue:0,maxValue:t.maxSpeed,minColor:[0,255,0],maxColor:[255,0,0]};this.api.setTrackGradientStyle(t,"speed",e)}},{key:"setAltitudeStyle",value:function(){var t=this.state.currentTrack,e={minValue:t.minAltitude,maxValue:t.maxAltitude,minColor:[0,255,0],maxColor:[255,0,0]};this.api.setTrackGradientStyle(t,"altitude",e)}},{key:"getPopupElement",value:function(t){var e,n,r,o,a,s,l,u,c,f,h,d,p,v,m,y,g,b,x,w,k,S,E,A,L,M,O,P,_,C,T,I,j,D=this,U=this.state.currentTrack.positions[t],z=this.state.currentTrack.length,N=this.state.currentTrack.user,R=pe.user&&(pe.isAdmin||pe.user.id===N.id),V="–––",B="–––";if(U.timestamp>0){var F,H=Mt.getTimeString(new Date(1e3*U.timestamp));V=H.date,B=i()(F="".concat(H.time,'<span class="smaller">')).call(F,H.zone,"</span>")}var q,G="";if("gps"===U.provider)G=i()(q=' <img class="icon" alt="'.concat(de._("gps"),'" title="')).call(q,de._("gps"),'"  src="images/gps_dark.svg">');else if("network"===U.provider){var X;G=i()(X=' <img class="icon" alt="'.concat(de._("network"),'" title="')).call(X,de._("network"),'"  src="images/network_dark.svg">')}var Y="";R&&(Y='<a id="editposition" class="menu-link" data-bind="onUserAdd">'.concat(de._("editposition"),"</a>"));var Z,W,J,$,Q,K,tt,et,nt,rt=U.latitude.toString()+","+U.longitude.toString(),it="";this.state.showLatest||(it=i()(Z=i()(W=i()(J=i()($=i()(Q=i()(K=i()(tt=i()(et=i()(nt='<div id="pright">\n        <img class="icon" alt="'.concat(de._("track"),'" src="images/stats_blue.svg" style="margin-left: 3em;"><br>\n        <img class="icon" alt="')).call(nt,de._("ttime"),'" title="')).call(et,de._("ttime"),'" src="images/time_blue.svg"> ')).call(tt,de.getLocaleDuration(U.totalSeconds),'<br>\n        <img class="icon" alt="')).call(K,de._("aspeed"),'" title="')).call(Q,de._("aspeed"),'" src="images/speed_blue.svg"> ')).call($,de.getLocaleSpeed(U.totalSpeed,!0),'<br>\n        <img class="icon" alt="')).call(J,de._("tdistance"),'" title="')).call(W,de._("tdistance"),'" src="images/distance_blue.svg"> ')).call(Z,de.getLocaleDistanceMajor(U.totalMeters,!0),"<br>\n        </div>"));var ot=i()(e=i()(n=i()(r=i()(o=i()(a=i()(s=i()(l=i()(u=i()(c=i()(f=i()(h=i()(d=i()(p=i()(v=i()(m=i()(y=i()(g=i()(b=i()(x=i()(w=i()(k=i()(S=i()(E='<div id="pheader">\n        <div><img alt="'.concat(de._("user"),'" title="')).call(E,de._("user"),'" src="images/user_dark.svg"> ')).call(S,Mt.htmlEncode(U.username),'</div>\n        <div><img alt="')).call(k,de._("track"),'" title="')).call(w,de._("track"),'" src="images/route_dark.svg"> ')).call(x,Mt.htmlEncode(U.trackname),'</div>\n        </div>\n        <div id="pbody">\n        ')).call(b,U.hasComment()?'<div id="pcomments">'.concat(Mt.htmlEncode(U.comment).replace(/\n/,"<br>"),"</div>"):"","\n        ")).call(g,U.hasImage()?'<div id="pimage"><img src="uploads/'.concat(U.image,'" alt="image"></div>'):"",'\n        <div id="pleft">\n        <img class="icon" alt="')).call(y,de._("time"),'" title="')).call(m,de._("time"),'" src="images/calendar_dark.svg"> ')).call(v,V,'<br>\n        <img class="icon" alt="')).call(p,de._("time"),'" title="')).call(d,de._("time"),'" src="images/clock_dark.svg"> ')).call(h,B,"<br>\n        ")).call(f,null!==U.speed?i()(A=i()(L='<img class="icon" alt="'.concat(de._("speed"),'" title="')).call(L,de._("speed"),'" src="images/speed_dark.svg">')).call(A,de.getLocaleSpeed(U.speed,!0),"<br>"):"","\n        ")).call(c,null!==U.altitude?i()(M=i()(O='<img class="icon" alt="'.concat(de._("altitude"),'" title="')).call(O,de._("altitude"),'" src="images/altitude_dark.svg">')).call(M,de.getLocaleAltitude(U.altitude,!0),"<br>"):"","\n        ")).call(u,null!==U.accuracy?i()(P=i()(_=i()(C='<img class="icon" alt="'.concat(de._("accuracy"),'" title="')).call(C,de._("accuracy"),'" src="images/accuracy_dark.svg">')).call(_,de.getLocaleAccuracy(U.accuracy,!0))).call(P,G,"<br>"):"","\n        ")).call(l,null!==U.bearing?i()(T=i()(I=i()(j='<img class="icon" alt="'.concat(de._("bearing"),'" title="')).call(j,de._("bearing"),'" src="images/bearing.svg" style="transform: rotate(')).call(I,U.bearing,'deg) scale(1.2);">')).call(T,U.bearing,"°<br>"):"",'\n        <img class="icon" alt="')).call(s,de._("position"),'" title="')).call(a,de._("position"),'" src="images/position.svg">')).call(o,de.getLocaleCoordinates(U),"<br>\n        </div>")).call(r,it,'</div><div id="pfooter"><div>')).call(n,de._("pointof",t+1,z),"</div><div>")).call(e,Y,"</div>")+'<div><a class="menu-link" href="https://www.google.com/maps?q='+rt+"&amp;layer=c&amp;cbll="+rt+'"target="_blank | sametab">'+"".concat(de._("sv"))+"</a></div>",at=document.createElement("div");(at.setAttribute("id","popup"),at.innerHTML=ot,U.hasImage())&&(at.querySelector("#pimage img").onclick=function(){var t=new je('<img src="'.concat(U.getImagePath(),'" alt="image">'));t.element.querySelector("#modal-close").onclick=function(){return t.destroy()},t.element.classList.add("image"),t.show()});R&&(at.querySelector("#editposition").onclick=function(){new $e(D.state,t).init()});return at}}],[{key:"getMarkerPath",value:function(t){return t?"M15,34.911c0,0,0.359-3.922,1.807-8.588c0.414-1.337,1.011-2.587,2.495-4.159c1.152-1.223,3.073-2.393,3.909-4.447c1.681-6.306-3.676-9.258-8.211-9.258c-4.536,0-9.893,2.952-8.211,9.258c0.836,2.055,2.756,3.225,3.91,4.447c1.484,1.572,2.08,2.822,2.495,4.159C14.64,30.989,15,34.911,15,34.911z M18,15.922c0,1.705-1.342,3.087-2.999,3.087c-1.657,0-3-1.382-3-3.087c0-1.704,1.343-3.086,3-3.086C16.658,12.836,18,14.218,18,15.922z":"M14.999,34.911c0,0,0.232-1.275,1.162-4.848c0.268-1.023,0.652-1.98,1.605-3.184c0.742-0.937,1.975-1.832,2.514-3.404c1.082-4.828-2.363-7.088-5.281-7.088c-2.915,0-6.361,2.26-5.278,7.088c0.538,1.572,1.771,2.468,2.514,3.404c0.953,1.203,1.337,2.16,1.604,3.184C14.77,33.635,14.999,34.911,14.999,34.911z"}},{key:"getMarkerExtra",value:function(t){var e,n=t?"M26.074,13.517":"M23.328,20.715",r=t?"M28.232,10.942":"M25.486,18.141";return i()(e='<path fill="none" stroke="red" stroke-width="2" d="'.concat(n,'c0-3.961-3.243-7.167-7.251-7.167"/>\n            <path fill="none" stroke="red" stroke-width="2" d="')).call(e,r,'c-0.5-4.028-3.642-7.083-7.724-7.542"/>')}},{key:"getSvgSrc",value:function(t,e,r){var o,a,s=i()(o=i()(a='<svg viewBox="0 0 30 35" width="30px" height="35px" xmlns="http://www.w3.org/2000/svg">\n      <g><path stroke="black" fill="'.concat(t,'" d="')).call(a,n.getMarkerPath(e),'"/>')).call(o,r?n.getMarkerExtra(e):"","</g></svg>");return"data:image/svg+xml,".concat(encodeURIComponent(s))}}]),n}(be),tn=n(170),en=n.n(tn);function nn(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var rn=function(t){R()(n,t);var e=nn(n);function n(t){var r;return c()(this,n),(r=e.call(this,{onTrackDelete:null,onTrackUpdate:null,onCancel:null,trackname:""})).track=t.state.currentTrack,r.trackVM=t,r.model.onTrackDelete=function(){return r.onTrackDelete()},r.model.onTrackUpdate=function(){return r.onTrackUpdate()},r.model.onCancel=function(){return r.onCancel()},r}return h()(n,[{key:"init",value:function(){var t=this.getHtml();this.dialog=new je(t),this.dialog.show(),this.bindAll(this.dialog.element)}},{key:"getHtml",value:function(){var t,e,n,r,o,a;return i()(t=i()(e=i()(n=i()(r=i()(o=i()(a='<div class="red-button button-resolve"><b><a data-bind="onTrackDelete">'.concat(de._("deltrack"),"</a></b></div>\n      <div>")).call(a,de._("editingtrack","<b>".concat(Mt.htmlEncode(this.track.name),"</b>")),'</div>\n      <div style="clear: both; padding-bottom: 1em;"></div>\n      <form id="trackForm">\n        <label><b>')).call(o,de._("trackname"),'</b></label>\n        <input type="text" placeholder="')).call(r,de._("trackname"),'" name="trackname" data-bind="trackname" value="')).call(n,Mt.htmlEncode(this.track.name),'" required autofocus>\n        <div class="buttons">\n          <button class="button-reject" data-bind="onCancel" type="button">')).call(e,de._("cancel"),'</button>\n          <button class="button-resolve" data-bind="onTrackUpdate" type="submit">')).call(t,de._("submit"),"</button>\n        </div>\n      </form>")}},{key:"onTrackDelete",value:function(){var t=this;je.isConfirmed(de._("trackdelwarn",Mt.htmlEncode(this.track.name)))&&this.track.delete().then((function(){t.trackVM.onTrackDeleted(),t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onTrackUpdate",value:function(){var t=this;this.validate()&&(this.track.setName(this.model.trackname),this.track.saveMeta().then((function(){return t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})))}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"validate",value:function(){return this.model.trackname!==this.track.name&&(!!this.model.trackname||(Ce.error(de._("allrequired")),!1))}}]),n}(be);function on(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var an=function(t){R()(n,t);var e=on(n);function n(t){var r;c()(this,n),(r=e.call(this,{trackList:[],currentTrackId:"",showLatest:!1,autoReload:!1,inputFile:!1,summary:!1,onReload:null,onExportGpx:null,onExportKml:null,onImportGpx:null,onTrackEdit:null})).setClickHandlers();var i=document.querySelector("#track");return r.importEl=document.querySelector("#input-file"),r.editEl=r.getBoundElement("onTrackEdit"),r.select=new ft(i),r.state=t,r.timerId=0,r}return h()(n,[{key:"init",value:function(){return this.setObservers(),this.bindAll(),this}},{key:"setObservers",value:function(){var t=this;this.onChanged("trackList",(function(e){t.select.setOptions(e)})),this.onChanged("currentTrackId",(function(e){t.onTrackSelect(e)})),this.onChanged("inputFile",(function(e){e&&t.onImport()})),this.onChanged("autoReload",(function(e){t.autoReload(e)})),this.onChanged("showLatest",(function(e){t.state.showLatest=e,t.onReload(!0)})),this.state.onChanged("currentUser",(function(e){e?(t.loadTrackList(),pe.user&&(pe.isAdmin||pe.user.id===e.id)&&n.setMenuVisible(t.editEl,!0)):(t.model.currentTrackId="",t.model.trackList=[],n.setMenuVisible(t.editEl,!1))})),this.state.onChanged("currentTrack",(function(e){t.renderSummary(),e&&lt.observe(e,"positions",(function(){t.renderSummary()}))})),this.state.onChanged("showAllUsers",(function(e){e&&t.loadAllUsersPosition()})),he.onChanged("interval",(function(){t.timerId&&(t.stopAutoReload(),t.startAutoReload())})),this.state.onChanged("history",(function(e){e&&!e.userId&&e.trackId&&(t.model.currentTrackId=e.trackId.toString())}))}},{key:"setClickHandlers",value:function(){var t=this;this.model.onReload=function(){return t.onReload()};var e=function(e){return function(){t.state.currentTrack&&t.state.currentTrack.export(e)}};this.model.onExportGpx=e("gpx"),this.model.onExportKml=e("kml"),this.model.onImportGpx=function(){return t.importEl.click()},this.model.onTrackEdit=function(){return t.showDialog()}}},{key:"onReload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.showLatest?this.state.showAllUsers?this.loadAllUsersPosition():this.state.currentUser&&this.onUserLastPosition():this.state.currentTrack instanceof Ut?this.onTrackUpdate(t):this.state.currentTrack instanceof Tt?this.state.currentTrack=null:this.state.currentUser&&this.loadTrackList()}},{key:"onImport",value:function(){var t=this,e=this.importEl.parentElement,n=e.elements.MAX_FILE_SIZE.value;this.importEl.files&&1===this.importEl.files.length&&this.importEl.files[0].size>n?Ce.error(de._("isizefailure",n)):pe.isAuthenticated?(this.state.jobStart(),Ut.import(e,pe.user).then((function(e){e.length&&(e.length>1&&Ce.toast(de._("imultiple",e.length)),t.model.trackList=i()(e).call(e,t.model.trackList),t.model.currentTrackId=e[0].listValue)})).catch((function(t){var e;return Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){t.model.inputFile="",t.state.jobStop()}))):Ce.error(de._("notauthorized"))}},{key:"onTrackSelect",value:function(t){var e,n=this,r=Y()(e=this.model.trackList).call(e,(function(e){return e.listValue===t}));r?r.isEqualTo(this.state.currentTrack)||(this.state.jobStart(),r.fetchPositions().then((function(){var t;i()(t="currentTrack id: ".concat(r.id,", loaded ")).call(t,r.length," positions"),n.state.currentTrack=r,n.model.showLatest&&(n.model.showLatest=!1)})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){return n.state.jobStop()}))):this.state.currentTrack=null}},{key:"onTrackUpdate",value:function(t){t&&this.state.currentTrack.clear(),this.state.currentTrack.fetchPositions().catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onUserLastPosition",value:function(){var t=this;this.state.currentUser.fetchLastPosition().then((function(e){var n;e&&(Y()(n=t.model.trackList).call(n,(function(t){return t.listValue===e.listValue}))||t.model.trackList.unshift(e),t.state.currentTrack=e,t.model.currentTrackId=e.listValue)})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"loadAllUsersPosition",value:function(){var t=this;this.state.jobStart(),Tt.fetchLatest().then((function(e){e&&(t.model.trackList=[],t.model.currentTrackId="",t.state.currentTrack=e)})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){return t.state.jobStop()}))}},{key:"loadTrackList",value:function(){var t=this;this.state.jobStart(),Ut.fetchList(this.state.currentUser).then((function(e){t.model.trackList=e,e.length?t.state.showLatest?t.onUserLastPosition():t.state.history?t.model.currentTrackId=t.state.history.trackId.toString():t.model.currentTrackId=e[0].listValue:t.model.currentTrackId=""})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})).finally((function(){return t.state.jobStop()}))}},{key:"showDialog",value:function(){new rn(this).init()}},{key:"onTrackDeleted",value:function(){var t,e,n=Wt()(t=this.model.trackList).call(t,this.state.currentTrack);(this.state.currentTrack=null,-1!==n)&&(Yt()(e=this.model.trackList).call(e,n,1),this.model.trackList.length?(n>=this.model.trackList.length&&(n=this.model.trackList.length-1),this.model.currentTrackId=this.model.trackList[n].listValue):this.model.currentTrackId="")}},{key:"autoReload",value:function(t){t?this.startAutoReload():this.stopAutoReload()}},{key:"startAutoReload",value:function(){var t=this;this.timerId=en()((function(){return t.onReload()}),1e3*he.interval)}},{key:"stopAutoReload",value:function(){clearInterval(this.timerId),this.timerId=0}},{key:"renderSummary",value:function(){var t=this.state.currentTrack;if(t&&t.hasPositions){var e=t.positions[t.length-1];if(this.state.showLatest){var n,r,o,a=new Date,s=new Date(1e3*e.timestamp),l=Mt.getTimeString(s),u=s.toDateString()!==a.toDateString()?"".concat(l.date,"<br>"):"",c=i()(n="".concat(l.time,'<span style="font-weight:normal">')).call(n,l.zone,"</span>");this.model.summary=i()(r=i()(o='\n        <div class="menu-title">'.concat(de._("latest"),":</div>\n        ")).call(o,u,"\n        ")).call(r,c)}else{var f,h,d,p,v,m,y,g,b=i()(f=i()(h=i()(d=i()(p=i()(v=i()(m='\n        <div class="menu-title">'.concat(de._("summary"),'</div>\n        <div><img class="icon" alt="')).call(m,de._("tdistance"),'" title="')).call(v,de._("tdistance"),'" src="images/distance.svg"> ')).call(p,de.getLocaleDistanceMajor(e.totalMeters,!0),'</div>\n        <div><img class="icon" alt="')).call(d,de._("ttime"),'" title="')).call(h,de._("ttime"),'" src="images/time.svg"> ')).call(f,de.getLocaleDuration(e.totalSeconds),"</div>");if(t.hasSpeeds)b+=i()(y=i()(g='<div><img class="icon" alt="'.concat(de._("speed"),'" title="')).call(g,de._("speed"),'" src="images/speed.svg"><b>&#10138;</b> ')).call(y,de.getLocaleSpeed(t.maxSpeed,!0),"</div>");if(t.hasAltitudes){var x,w,k,S="".concat(de.getLocaleAltitude(t.maxAltitude,!0));if(t.minAltitude!==t.maxAltitude)S=i()(k="".concat(de.getLocaleAltitude(t.minAltitude),"&ndash;")).call(k,S);b+=i()(x=i()(w='<div><img class="icon" alt="'.concat(de._("altitude"),'" title="')).call(w,de._("altitude"),'" src="images/altitude.svg"> ')).call(x,S,"</div>")}this.model.summary=b}}else this.model.summary=""}}],[{key:"setMenuVisible",value:function(t,e){t&&(e?t.classList.remove("menu-hidden"):t.classList.add("menu-hidden"))}}]),n}(be),sn=n(171),ln=n.n(sn);function un(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var cn=function(t){R()(n,t);var e=un(n);function n(t,r){var i;return c()(this,n),(i=e.call(this,{onUserDelete:null,onUserUpdate:null,onPassChange:null,onUserAdd:null,onCancel:null,passVisibility:!1,login:null,password:null,password2:null,oldPassword:null,admin:!1})).user=t.state.currentUser,i.type=r,i.userVM=t,i.model.onUserDelete=function(){return i.onUserDelete()},i.model.onUserUpdate=function(){return i.onUserUpdate()},i.model.onPassChange=function(){return i.onPassChange()},i.model.onUserAdd=function(){return i.onUserAdd()},i.model.onCancel=function(){return i.onCancel()},i}return h()(n,[{key:"init",value:function(){var t=this.getHtml();this.dialog=new je(t),this.dialog.show(),this.bindAll(this.dialog.element);var e=this.getBoundElement("passInput");e&&this.onChanged("passVisibility",(function(){"none"===e.style.display?e.style.display="block":e.style.display="none"}))}},{key:"onUserDelete",value:function(){var t=this;je.isConfirmed(de._("userdelwarn",Mt.htmlEncode(this.user.login)))&&this.user.delete().then((function(){t.userVM.onUserDeleted(),t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onUserUpdate",value:function(){var t=this;if(this.validate()){var e=this.model.passVisibility?this.model.password:null;this.user.modify(this.model.admin,e).then((function(){return t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}}},{key:"onPassChange",value:function(){var t=this;this.model.passVisibility=!0,this.validate()&&pe.user.setPassword(this.model.password,this.model.oldPassword).then((function(){return t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onUserAdd",value:function(){var t=this;this.model.passVisibility=!0,this.validate()&&Vt.add(this.model.login,this.model.password,this.model.admin).then((function(e){t.userVM.onUserAdded(e),t.dialog.destroy()})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)}))}},{key:"onCancel",value:function(){this.dialog.destroy()}},{key:"validate",value:function(){if("add"===this.type){if(!this.model.login)return Ce.error(de._("allrequired")),!1}else if("pass"===this.type&&!this.model.oldPassword)return Ce.error(de._("allrequired")),!1;if(this.model.passVisibility){if(!this.model.password||!this.model.password2)return Ce.error(de._("allrequired")),!1;if(this.model.password!==this.model.password2)return Ce.error(de._("passnotmatch")),!1;if(!he.validPassStrength(this.model.password))return Ce.error(de.getLocalePassRules()),!1}return!0}},{key:"getHtml",value:function(){var t,e,n,r,o,a,s,l,u,c,f,h,d,p,v,m,y,g,b,x,w,k,S,E,A="",L="";switch(this.type){case"add":S="onUserAdd",L=i()(t="<label><b>".concat(de._("username"),'</b></label>\n        <input type="text" placeholder="')).call(t,de._("usernameenter"),'" name="login" data-bind="login" required autofocus>'),E=i()(e=i()(n=i()(r=i()(o="<label><b>".concat(de._("password"),'</b></label>\n        <input type="password" placeholder="')).call(o,de._("passwordenter"),'" name="password" data-bind="password" required>\n        <label><b>')).call(r,de._("passwordrepeat"),'</b></label>\n        <input type="password" placeholder="')).call(n,de._("passwordenter"),'" name="password2" data-bind="password2" required>\n        <label><b>')).call(e,de._("admin"),'</b></label>\n        <input type="checkbox" name="admin" data-bind="admin">');break;case"edit":S="onUserUpdate",A=i()(a='<div class="red-button button-resolve"><b><a data-bind="onUserDelete">'.concat(de._("deluser"),"</a></b></div>\n        <div>")).call(a,de._("editinguser","<b>".concat(Mt.htmlEncode(this.user.login),"</b>")),'</div>\n        <div style="clear: both; padding-bottom: 1em;"></div>'),E=i()(s=i()(l=i()(u=i()(c=i()(f=i()(h="<label><b>".concat(de._("changepass"),'</b></label>\n        <input type="checkbox" name="changepass" data-bind="passVisibility"><br>\n        <div style="display: none;" data-bind="passInput">\n          <label><b>')).call(h,de._("password"),'</b></label>\n          <input type="password" placeholder="')).call(f,de._("passwordenter"),'" name="password" data-bind="password" required autofocus>\n          <label><b>')).call(c,de._("passwordrepeat"),'</b></label>\n          <input type="password" placeholder="')).call(u,de._("passwordenter"),'" name="password2" data-bind="password2" required>\n        </div>\n        <label><b>')).call(l,de._("admin"),'</b></label>\n        <input type="checkbox" name="admin" data-bind="admin" ')).call(s,this.user.isAdmin?"checked":"",">");break;case"pass":S="onPassChange",E=i()(d=i()(p=i()(v=i()(m=i()(y="<label><b>".concat(de._("oldpassword"),'</b></label>\n        <input type="password" placeholder="')).call(y,de._("passwordenter"),'" name="old-password" data-bind="oldPassword" required autofocus>\n        <label><b>')).call(m,de._("newpassword"),'</b></label>\n        <input type="password" placeholder="')).call(v,de._("passwordenter"),'" name="password" data-bind="password" required>\n        <label><b>')).call(p,de._("newpasswordrepeat"),'</b></label>\n        <input type="password" placeholder="')).call(d,de._("passwordenter"),'" name="password2" data-bind="password2" required>');break;default:throw new Error("Unknown dialog type: ".concat(this.type))}return i()(g=i()(b=i()(x=i()(w=i()(k="".concat(A,'\n      <form id="userForm">\n        ')).call(k,L,"\n        ")).call(w,E,'\n        <div class="buttons">\n          <button class="button-reject" type="button" data-bind="onCancel">')).call(x,de._("cancel"),'</button>\n          <button class="button-resolve" type="submit" data-bind="')).call(b,S,'">')).call(g,de._("submit"),"</button>\n        </div>\n      </form>")}}]),n}(be);function fn(t){var e=function(){if("undefined"==typeof Reflect||!D.a)return!1;if(D.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(D()(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H()(t);if(e){var i=H()(this).constructor;n=D()(r,arguments,i)}else n=r.apply(this,arguments);return B()(this,n)}}var hn=function(t){R()(n,t);var e=fn(n);function n(t){var r;c()(this,n),(r=e.call(this,{userList:[],currentUserId:"0",onUserEdit:null,onUserAdd:null,onPasswordChange:null})).setClickHandlers();var i=document.querySelector("#user");return r.editEl=r.getBoundElement("onUserEdit"),r.select=new ft(i,de._("suser"),"- ".concat(de._("allusers")," -")),r.state=t,r}return h()(n,[{key:"setClickHandlers",value:function(){var t=this;this.model.onUserEdit=function(){return t.showDialog("edit")},this.model.onUserAdd=function(){return t.showDialog("add")},this.model.onPasswordChange=function(){return t.showDialog("pass")}}},{key:"init",value:function(){var t=this;return this.setObservers(this.state),this.bindAll(),Vt.fetchList().then((function(e){if(t.model.userList=e,e.length){var n=e[0].listValue;if(t.state.history)n=t.state.history.userId.toString();else if(pe.isAuthenticated){var r,i=Y()(r=t.model.userList).call(r,(function(t){return t.listValue===pe.user.listValue}));i&&(n=i.listValue)}t.model.currentUserId=n}})).catch((function(t){var e;Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t.message),t)})),this}},{key:"setObservers",value:function(t){var e=this;this.onChanged("userList",(function(t){e.select.setOptions(t)})),this.onChanged("currentUserId",(function(t){var r;e.state.showAllUsers=t===ft.allValue,e.state.currentUser=Y()(r=e.model.userList).call(r,(function(e){return e.listValue===t}))||null,n.setMenuVisible(e.editEl,null!==e.state.currentUser&&!e.state.currentUser.isEqualTo(pe.user))})),t.onChanged("showLatest",(function(t){t?e.select.showAllOption():e.select.hideAllOption()})),t.onChanged("history",(function(t){t&&t.userId&&(e.model.currentUserId=t.userId.toString())}))}},{key:"showDialog",value:function(t){new cn(this,t).init()}},{key:"onUserAdded",value:function(t){var e;this.model.userList.push(t),ln()(e=this.model.userList).call(e,(function(t,e){return t.login>e.login?1:-1}))}},{key:"onUserDeleted",value:function(){var t,e,n=Wt()(t=this.model.userList).call(t,this.state.currentUser);(this.state.currentUser=null,-1!==n)&&(Yt()(e=this.model.userList).call(e,n,1),this.model.userList.length?(n>=this.model.userList.length&&(n=this.model.userList.length-1),this.model.currentUserId=this.model.userList[n].listValue):this.model.currentUserId="0")}}],[{key:"setMenuVisible",value:function(t,e){t&&(e?t.classList.remove("menu-hidden"):t.classList.add("menu-hidden"))}}]),n}(be),dn=n(172),pn=n.n(dn),vn=function(){function t(e){c()(this,t),this.state=e,this.skipPush=!1}return h()(t,[{key:"init",value:function(){var t=this;return this.state.onChanged("mapParams",(function(){return t.pushState()})),window.addEventListener("popstate",(function(e){if(null!==e.state){var n=t.state.currentTrack,r=t.state.currentUser,i={title:e.state.title,userId:r&&r.id===e.state.userId?null:e.state.userId,trackId:n&&n.id===e.state.trackId?null:e.state.trackId,mapApi:he.mapApi===e.state.mapApi?null:e.state.mapApi,mapParams:e.state.mapParams};t.onPop(i),t.skipPush=!0}})),this}},{key:"onPop",value:function(t){var e,n,r;(t&&i()(e=i()(n="".concat(t.trackId,"/")).call(n,t.mapApi,"/")).call(e,t.mapParams),this.state.history=t,t)&&(document.title=i()(r="".concat(de._("title")," ")).call(r,t.title))}},{key:"pushState",value:function(){if(this.skipPush)this.skipPush=!1;else if(null!==this.state.currentUser&&null!==this.state.currentTrack){var e=this.getState(),n=window.history.state;if(!n||!Mt.isDeepEqual(n,e)){var r,o,a=t.getHash(e);i()(r="pushState: ".concat(a," => ")).call(r,e),window.history.pushState(e,e.title,a),document.title=i()(o="".concat(de._("title")," ")).call(o,e.title)}}}},{key:"getState",value:function(){return{title:this.state.currentTrack.name,userId:this.state.currentUser.id,trackId:this.state.currentTrack.id,mapApi:he.mapApi,mapParams:this.state.mapParams}}}],[{key:"parseHash",value:function(){return t.parse(window.location.hash)}},{key:"parse",value:function(t){var e=t.replace("#","").split("/");pn()(e).call(e);var n=Et()(e.pop());if(!isNaN(n)){var r="openlayers";"g"===e.pop()&&(r="gmaps");var o=null;return e.length>=4&&((o={}).center=[xt()(e.pop()),xt()(e.pop())],o.zoom=xt()(e.pop()),o.rotation=xt()(e.pop())),Ut.getMeta(n).then((function(t){var e=t.userId;return{title:t.name,userId:e,trackId:n,mapApi:r,mapParams:o}})).catch((function(t){var e;return i()(e="Ignoring unknown track ".concat(n," ")).call(e,t),null}))}return a.a.resolve(null)}},{key:"getHash",value:function(t){var e,n,r,o=i()(e="#".concat(t.trackId,"/")).call(e,t.mapApi.charAt(0));t.mapParams&&(o+=i()(n="/".concat(t.mapParams.center[0],"/")).call(n,t.mapParams.center[1]),o+=i()(r="/".concat(t.mapParams.zoom,"/")).call(r,t.mapParams.rotation));return o}}]),t}(),mn=function(){function t(e){c()(this,t),this.spinner=null,this.state=e}return h()(t,[{key:"init",value:function(){var t=this;this.state.onChanged("activeJobs",(function(e){e>0?t.spinner||(t.spinner=Ce.spinner()):t.spinner&&(t.spinner.destroy(),t.spinner=null)}))}}]),t}(),yn=function(){function t(){c()(this,t),this.currentTrack=null,this.currentUser=null,this.showLatest=!1,this.showAllUsers=!1,this.activeJobs=0,this.mapParams=null,this.history=null}return h()(t,[{key:"jobStart",value:function(){this.activeJobs++}},{key:"jobStop",value:function(){this.activeJobs--}},{key:"onChanged",value:function(t,e){lt.observe(this,t,e)}}]),t}(),gn=ce.waitForDom(),bn=fe.initialize(),xn=vn.parseHash();a.a.all([gn,bn,xn]).then((function(t){var e,n,r,i,o,a,s,l,u,c;e=t[2],n=new yn,r=new vn(n),i=new mn(n),o=new qe(n),a=new hn(n),s=new an(n),l=new Ke(n),u=new Ee(n),c=new Ve(n),r.init().onPop(e),i.init(),o.init(),a.init(),s.init(),l.init().loadMapAPI(he.mapApi),u.init(),c.init(),l.onChanged("markerOver",(function(t){null!==t?u.onPointOver(t):u.onPointOut()})),l.onChanged("markerSelect",(function(t){null!==t?u.onPointSelect(t):u.onPointUnselect()})),u.onChanged("pointSelected",(function(t){null!==t&&l.api.animateMarker(t)}))})).catch((function(t){var e;return Ce.error(i()(e="".concat(de._("actionfailure"),"\n")).call(e,t))}))}]);
//# sourceMappingURL=bundle.js.map